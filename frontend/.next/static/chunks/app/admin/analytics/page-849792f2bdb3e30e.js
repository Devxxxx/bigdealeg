(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8668],{465:function(e,s,t){Promise.resolve().then(t.bind(t,6272))},6272:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return AdminAnalytics}});var r=t(7437),a=t(2265),i=t(3159);function AdminAnalytics(){let[e,s]=(0,a.useState)(!0),[t,l]=(0,a.useState)("30days"),[n,c]=(0,a.useState)({totalUsers:0,activeUsers:0,totalProperties:0,totalRequests:0,totalViewings:0,conversionRate:0,averageResponseTime:0}),[d,o]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[h,p]=(0,a.useState)([]);(0,a.useEffect)(()=>{let fetchAnalytics=async()=>{s(!0);try{let e=await fetch("/api/analytics?timeFrame=".concat(t));if(!e.ok)throw Error("Failed to fetch");let r=await e.json();c(r.stats),o(r.propertyTypeDistribution),x(r.locationDistribution),p(r.dailyStats),s(!1)}catch(e){console.error("Error fetching analytics:",e),s(!1)}};fetchAnalytics()},[t]);let formatNumber=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,r.jsx)(i.Op,{className:"mr-3 text-primary"}),"Analytics Dashboard"]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Monitor performance and user engagement metrics"})]}),(0,r.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:[(0,r.jsxs)("select",{className:"block w-full md:w-auto pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md",value:t,onChange:e=>l(e.target.value),children:[(0,r.jsx)("option",{value:"7days",children:"Last 7 Days"}),(0,r.jsx)("option",{value:"30days",children:"Last 30 Days"}),(0,r.jsx)("option",{value:"90days",children:"Last 90 Days"}),(0,r.jsx)("option",{value:"12months",children:"Last 12 Months"})]}),(0,r.jsxs)("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[(0,r.jsx)(i.lbL,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,r.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[(0,r.jsx)(i.ZJh,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(i.I$,{className:"h-6 w-6 text-gray-400"})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),(0,r.jsx)("dd",{children:(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(n.totalUsers)})})]})})]})}),(0,r.jsx)("div",{className:"bg-gray-50 px-5 py-3",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium text-green-600",children:e?"...":formatNumber(n.activeUsers)}),(0,r.jsx)("span",{className:"text-gray-500 ml-1",children:"active in this period"})]})})]}),(0,r.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(i.Eoi,{className:"h-6 w-6 text-gray-400"})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Properties Listed"}),(0,r.jsx)("dd",{children:(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(n.totalProperties)})})]})})]})}),(0,r.jsx)("div",{className:"bg-gray-50 px-5 py-3",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium text-green-600",children:["+",e?"...":Math.floor(.1*n.totalProperties)]}),(0,r.jsx)("span",{className:"text-gray-500 ml-1",children:"new in this period"})]})})]}),(0,r.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(i.U41,{className:"h-6 w-6 text-gray-400"})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Property Requests"}),(0,r.jsx)("dd",{children:(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(n.totalRequests)})})]})})]})}),(0,r.jsx)("div",{className:"bg-gray-50 px-5 py-3",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium text-primary",children:["~",e?"...":n.averageResponseTime,"h"]}),(0,r.jsx)("span",{className:"text-gray-500 ml-1",children:"avg. response time"})]})})]}),(0,r.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[(0,r.jsx)("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(i.iCz,{className:"h-6 w-6 text-gray-400"})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Scheduled Viewings"}),(0,r.jsx)("dd",{children:(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(n.totalViewings)})})]})})]})}),(0,r.jsx)("div",{className:"bg-gray-50 px-5 py-3",children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium text-green-600",children:[e?"...":n.conversionRate,"%"]}),(0,r.jsx)("span",{className:"text-gray-500 ml-1",children:"conversion rate"})]})})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Overview"}),e?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(0,r.jsx)("div",{className:"h-80 relative",children:(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-6 rounded-lg border-2 border-dashed border-gray-300",children:[(0,r.jsx)(i.NMh,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart component loaded"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"In a real implementation, this would display a line chart of daily views, requests, and viewings"}),(0,r.jsx)("div",{className:"mt-4 flex justify-center",children:(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[(0,r.jsx)(i.dSq,{className:"mr-2 h-4 w-4"}),"View Full Analytics"]})})]})})})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Property Type Distribution"}),e?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(0,r.jsx)("div",{className:"h-64 relative",children:(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-6 rounded-lg border-2 border-dashed border-gray-300",children:[(0,r.jsx)(i.yQE,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart component loaded"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"In a real implementation, this would display a pie chart of property types"})]})})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Locations"}),e?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(0,r.jsx)("div",{className:"h-64 relative",children:(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-6 rounded-lg border-2 border-dashed border-gray-300",children:[(0,r.jsx)(i.NMh,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart component loaded"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"In a real implementation, this would display a bar chart of top locations"})]})})})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),e?(0,r.jsx)("div",{className:"flex justify-center items-center h-24",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),(0,r.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"John Doe"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,r.jsx)(i.dSq,{className:"mr-1 h-3 w-3"})," Viewed Property"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Today, 10:25 AM"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Villa in Sheikh Zayed"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Jane Smith"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,r.jsx)(i.iCz,{className:"mr-1 h-3 w-3"})," Scheduled Viewing"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Today, 9:40 AM"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Apartment in Maadi"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Ahmed Hassan"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[(0,r.jsx)(i.diV,{className:"mr-1 h-3 w-3"})," Sent Message"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yesterday, 5:12 PM"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Office Space in Downtown Cairo"})]})]})]})})]})})]})}},622:function(e,s,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=t(2265),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,t){var r,i={},d=null,o=null;for(r in void 0!==t&&(d=""+t),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(o=s.ref),s)l.call(s,r)&&!c.hasOwnProperty(r)&&(i[r]=s[r]);if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:d,ref:o,props:i,_owner:n.current}}s.Fragment=i,s.jsx=q,s.jsxs=q},7437:function(e,s,t){"use strict";e.exports=t(622)},1172:function(e,s,t){"use strict";t.d(s,{w_:function(){return GenIcon}});var r=t(2265),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(a),__assign=function(){return(__assign=Object.assign||function(e){for(var s,t=1,r=arguments.length;t<r;t++)for(var a in s=arguments[t])Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);return e}).apply(this,arguments)},__rest=function(e,s){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>s.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>s.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t};function Tree2Element(e){return e&&e.map(function(e,s){return r.createElement(e.tag,__assign({key:s},e.attr),Tree2Element(e.child))})}function GenIcon(e){return function(s){return r.createElement(IconBase,__assign({attr:__assign({},e.attr)},s),Tree2Element(e.child))}}function IconBase(e){var elem=function(s){var t,a=e.attr,i=e.size,l=e.title,n=__rest(e,["attr","size","title"]),c=i||s.size||"1em";return s.className&&(t=s.className),e.className&&(t=(t?t+" ":"")+e.className),r.createElement("svg",__assign({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,n,{className:t,style:__assign(__assign({color:e.color||s.color},s.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==i?r.createElement(i.Consumer,null,function(e){return elem(e)}):elem(a)}}},function(e){e.O(0,[2420,2971,2472,1744],function(){return e(e.s=465)}),_N_E=e.O()}]);