(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4011],{7369:function(e,s,r){Promise.resolve().then(r.bind(r,5878))},5878:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return RegisterPage}});var t=r(7437),a=r(2265),i=r(1396),l=r.n(i),n=r(4033),o=r(8611),c=r(8920),d=r(1865),m=r(5243);function RegisterPage(){(0,n.useRouter)();let{signUp:e}=(0,m.a)(),[s,r]=(0,a.useState)(!1),[i,u]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)(""),[p,y]=(0,a.useState)(1),{register:w,handleSubmit:j,watch:v,formState:{errors:b,isValid:N,isDirty:k},trigger:S}=(0,d.cI)({defaultValues:{name:"",email:"",phone:"",password:"",confirmPassword:"",agreeTerms:!1},mode:"onChange"}),C=v("password"),goToNextStep=async()=>{let e=await S(["name","email","phone"]);e&&(y(2),window.scrollTo(0,0))},onSubmit=async s=>{x(!0),f("");try{let{error:r}=await e(s.email,s.password,s.name);if(r){let e=r instanceof Error?r.message:"Registration failed. This email may already be in use.";f(e)}}catch(e){f("An unexpected error occurred. Please try again later."),console.error("Registration error:",e)}finally{x(!1)}},A=[{title:"No Broker Fees",description:"Connect directly with property sellers and save thousands on broker commissions",icon:(0,t.jsx)(c.tMu,{})},{title:"Cashback Rewards",description:"Earn cashback on your property purchase when you buy through our platform",icon:(0,t.jsx)(c.$aX,{})},{title:"Smart Property Matching",description:"Our AI matches you with properties that fit your exact requirements",icon:(0,t.jsx)(c.bfl,{})}];return(0,t.jsxs)("div",{className:"min-h-screen w-full bg-gray-50 flex flex-col lg:flex-row overflow-hidden",children:[(0,t.jsx)("div",{className:"lg:w-2/5 bg-gradient-to-br from-primary-700 to-primary-900 text-white overflow-hidden",children:(0,t.jsxs)("div",{className:"h-full flex flex-col p-8 lg:p-12 xl:p-16",children:[(0,t.jsxs)(l(),{href:"/",className:"inline-flex items-center",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center text-primary-600 font-bold text-xl shadow-sm",children:"BD"}),(0,t.jsx)("span",{className:"ml-3 text-xl font-display font-semibold text-white",children:"BigDealEgypt"})]}),(0,t.jsx)("div",{className:"mt-12 lg:mt-20 flex-1",children:(0,t.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.7},children:[(0,t.jsx)("h2",{className:"text-3xl lg:text-4xl font-display font-bold mb-6",children:"Why Join BigDealEgypt?"}),(0,t.jsx)("p",{className:"text-xl mb-10 text-white/90",children:"Create an account and start your journey to finding the perfect property in Egypt."}),(0,t.jsx)("div",{className:"space-y-8",children:A.map((e,s)=>(0,t.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*s},className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-lg bg-primary-500 bg-opacity-40",children:e.icon}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:e.title}),(0,t.jsx)("p",{className:"mt-1 text-white/80",children:e.description})]})]},s))}),(0,t.jsxs)("div",{className:"mt-16 p-6 rounded-xl bg-white bg-opacity-10 backdrop-blur-sm border border-white border-opacity-20",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"text-amber-300 mr-4",children:(0,t.jsx)("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M8.128 19.825a1.586 1.586 0 0 1-1.643-.117 1.543 1.543 0 0 1-.53-.662 1.515 1.515 0 0 1-.096-.837l.736-4.247-3.13-3a1.514 1.514 0 0 1-.39-1.569c.09-.271.254-.513.475-.698.22-.185.49-.306.776-.35l4.325-.617 1.932-3.878c.128-.26.328-.48.577-.633a1.584 1.584 0 0 1 1.662 0c.25.153.45.373.577.633l1.932 3.878 4.325.617c.285.044.554.165.776.35.22.185.383.427.475.698.087.27.08.558-.033.83a1.514 1.514 0 0 1-.357.739l-3.13 3 .736 4.247c.047.282.014.572-.096.837-.111.265-.294.494-.53.662a1.582 1.582 0 0 1-1.643.117l-3.865-2-3.865 2z"})})}),(0,t.jsx)("div",{className:"text-amber-300 mr-4",children:(0,t.jsx)("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M8.128 19.825a1.586 1.586 0 0 1-1.643-.117 1.543 1.543 0 0 1-.53-.662 1.515 1.515 0 0 1-.096-.837l.736-4.247-3.13-3a1.514 1.514 0 0 1-.39-1.569c.09-.271.254-.513.475-.698.22-.185.49-.306.776-.35l4.325-.617 1.932-3.878c.128-.26.328-.48.577-.633a1.584 1.584 0 0 1 1.662 0c.25.153.45.373.577.633l1.932 3.878 4.325.617c.285.044.554.165.776.35.22.185.383.427.475.698.087.27.08.558-.033.83a1.514 1.514 0 0 1-.357.739l-3.13 3 .736 4.247c.047.282.014.572-.096.837-.111.265-.294.494-.53.662a1.582 1.582 0 0 1-1.643.117l-3.865-2-3.865 2z"})})}),(0,t.jsx)("div",{className:"text-amber-300 mr-4",children:(0,t.jsx)("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M8.128 19.825a1.586 1.586 0 0 1-1.643-.117 1.543 1.543 0 0 1-.53-.662 1.515 1.515 0 0 1-.096-.837l.736-4.247-3.13-3a1.514 1.514 0 0 1-.39-1.569c.09-.271.254-.513.475-.698.22-.185.49-.306.776-.35l4.325-.617 1.932-3.878c.128-.26.328-.48.577-.633a1.584 1.584 0 0 1 1.662 0c.25.153.45.373.577.633l1.932 3.878 4.325.617c.285.044.554.165.776.35.22.185.383.427.475.698.087.27.08.558-.033.83a1.514 1.514 0 0 1-.357.739l-3.13 3 .736 4.247c.047.282.014.572-.096.837-.111.265-.294.494-.53.662a1.582 1.582 0 0 1-1.643.117l-3.865-2-3.865 2z"})})}),(0,t.jsx)("div",{className:"text-amber-300 mr-4",children:(0,t.jsx)("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M8.128 19.825a1.586 1.586 0 0 1-1.643-.117 1.543 1.543 0 0 1-.53-.662 1.515 1.515 0 0 1-.096-.837l.736-4.247-3.13-3a1.514 1.514 0 0 1-.39-1.569c.09-.271.254-.513.475-.698.22-.185.49-.306.776-.35l4.325-.617 1.932-3.878c.128-.26.328-.48.577-.633a1.584 1.584 0 0 1 1.662 0c.25.153.45.373.577.633l1.932 3.878 4.325.617c.285.044.554.165.776.35.22.185.383.427.475.698.087.27.08.558-.033.83a1.514 1.514 0 0 1-.357.739l-3.13 3 .736 4.247c.047.282.014.572-.096.837-.111.265-.294.494-.53.662a1.582 1.582 0 0 1-1.643.117l-3.865-2-3.865 2z"})})}),(0,t.jsx)("div",{className:"text-amber-300",children:(0,t.jsx)("svg",{className:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M8.128 19.825a1.586 1.586 0 0 1-1.643-.117 1.543 1.543 0 0 1-.53-.662 1.515 1.515 0 0 1-.096-.837l.736-4.247-3.13-3a1.514 1.514 0 0 1-.39-1.569c.09-.271.254-.513.475-.698.22-.185.49-.306.776-.35l4.325-.617 1.932-3.878c.128-.26.328-.48.577-.633a1.584 1.584 0 0 1 1.662 0c.25.153.45.373.577.633l1.932 3.878 4.325.617c.285.044.554.165.776.35.22.185.383.427.475.698.087.27.08.558-.033.83a1.514 1.514 0 0 1-.357.739l-3.13 3 .736 4.247c.047.282.014.572-.096.837-.111.265-.294.494-.53.662a1.582 1.582 0 0 1-1.643.117l-3.865-2-3.865 2z"})})})]}),(0,t.jsx)("p",{className:"mt-4 text-white/90 italic",children:'"BigDealEgypt made it so easy to find property listings that matched exactly what I was looking for. The platform is user-friendly and removes all the hassle of dealing with brokers."'}),(0,t.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-white/25 flex items-center justify-center text-white font-medium",children:"SA"}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-white font-medium",children:"Sara Ali"}),(0,t.jsx)("p",{className:"text-sm text-white/70",children:"First-time homebuyer"})]})]})]})]})}),(0,t.jsx)("div",{className:"mt-10 lg:mt-auto pt-4",children:(0,t.jsxs)("p",{className:"text-sm text-white/70",children:["Already have an account?"," ",(0,t.jsx)(l(),{href:"/login",className:"text-white hover:text-white/90 font-medium",children:"Sign in here"})]})})]})}),(0,t.jsx)("div",{className:"lg:w-3/5 bg-white py-12 px-4 sm:px-6 lg:px-8 xl:px-16 overflow-auto",children:(0,t.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"w-full flex items-center",children:[(0,t.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full ".concat(p>=1?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:p>1?(0,t.jsx)(c.UgA,{className:"h-6 w-6"}):1}),(0,t.jsx)("div",{className:"flex-1 h-1 mx-2 ".concat(p>1?"bg-primary-600":"bg-gray-200")})]}),(0,t.jsx)("div",{className:"w-full flex items-center",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-10 w-10 rounded-full ".concat(p>=2?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:p>2?(0,t.jsx)(c.UgA,{className:"h-6 w-6"}):2})})]}),(0,t.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Your Information"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Account Security"})]})]}),(0,t.jsx)("h2",{className:"text-3xl font-display font-bold text-gray-900 mb-6 text-center",children:1===p?"Create Your Account":"Set Up Your Password"}),g&&(0,t.jsxs)(o.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-3 bg-danger-50 border border-danger-200 rounded-lg flex items-start",children:[(0,t.jsx)(c.bcx,{className:"mt-0.5 mr-2 text-danger-500 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-danger-800",children:g})]}),(0,t.jsxs)("form",{onSubmit:j(onSubmit),children:[1===p&&(0,t.jsxs)(o.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c.fzv,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{id:"name",type:"text",placeholder:"Your full name",className:"block w-full pl-10 pr-3 py-3 border ".concat(b.name?"border-danger-300":"border-gray-300"," rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"),...w("name",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})})]}),b.name&&(0,t.jsx)("p",{className:"mt-2 text-sm text-danger-600",children:b.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c.Imn,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{id:"email",type:"email",placeholder:"you@example.com",className:"block w-full pl-10 pr-3 py-3 border ".concat(b.email?"border-danger-300":"border-gray-300"," rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"),...w("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})})]}),b.email&&(0,t.jsx)("p",{className:"mt-2 text-sm text-danger-600",children:b.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c.tUt,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{id:"phone",type:"tel",placeholder:"+20 123 456 7890",className:"block w-full pl-10 pr-3 py-3 border ".concat(b.phone?"border-danger-300":"border-gray-300"," rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"),...w("phone",{required:"Phone number is required",pattern:{value:/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/,message:"Invalid phone number format"}})})]}),b.phone&&(0,t.jsx)("p",{className:"mt-2 text-sm text-danger-600",children:b.phone.message})]}),(0,t.jsx)("div",{className:"flex justify-end mt-8",children:(0,t.jsxs)("button",{type:"button",onClick:goToNextStep,className:"flex items-center justify-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:["Continue",(0,t.jsx)(c.Rgz,{className:"ml-2"})]})})]}),2===p&&(0,t.jsxs)(o.E.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{id:"password",type:s?"text":"password",placeholder:"Create a secure password",className:"block w-full pl-10 pr-10 py-3 border ".concat(b.password?"border-danger-300":"border-gray-300"," rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"),...w("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Password must include uppercase, lowercase, number and special character"}})}),(0,t.jsx)("button",{type:"button",onClick:()=>r(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?(0,t.jsx)(c.rzC,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,t.jsx)(c.rDJ,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),b.password&&(0,t.jsx)("p",{className:"mt-2 text-sm text-danger-600",children:b.password.message}),C&&!b.password&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"h-1 w-1/4 rounded-full bg-primary-600"}),(0,t.jsx)("div",{className:"h-1 w-1/4 rounded-full bg-primary-600"}),(0,t.jsx)("div",{className:"h-1 w-1/4 rounded-full bg-primary-600"}),(0,t.jsx)("div",{className:"h-1 w-1/4 rounded-full bg-primary-600"})]}),(0,t.jsx)("p",{className:"text-xs text-primary-600 mt-1",children:"Strong password"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,t.jsx)(c.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,t.jsx)("input",{id:"confirmPassword",type:i?"text":"password",placeholder:"Confirm your password",className:"block w-full pl-10 pr-10 py-3 border ".concat(b.confirmPassword?"border-danger-300":"border-gray-300"," rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"),...w("confirmPassword",{required:"Please confirm your password",validate:e=>e===C||"Passwords do not match"})}),(0,t.jsx)("button",{type:"button",onClick:()=>u(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i?(0,t.jsx)(c.rzC,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,t.jsx)(c.rDJ,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),b.confirmPassword&&(0,t.jsx)("p",{className:"mt-2 text-sm text-danger-600",children:b.confirmPassword.message})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex items-center h-5",children:(0,t.jsx)("input",{id:"agreeTerms",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",...w("agreeTerms",{required:"You must agree to the terms and conditions"})})}),(0,t.jsxs)("div",{className:"ml-3 text-sm",children:[(0,t.jsxs)("label",{htmlFor:"agreeTerms",className:"text-gray-700",children:["I agree to the "," ",(0,t.jsx)(l(),{href:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Terms of Service"})," "," and "," ",(0,t.jsx)(l(),{href:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]}),b.agreeTerms&&(0,t.jsx)("p",{className:"mt-1 text-sm text-danger-600",children:b.agreeTerms.message})]})]})}),(0,t.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{y(1),window.scrollTo(0,0)},className:"flex items-center justify-center py-3 px-6 border border-gray-300 rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:"Back"}),(0,t.jsx)("button",{type:"submit",disabled:h||!N,className:"flex items-center justify-center py-3 px-6 border border-transparent rounded-lg shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):(0,t.jsx)(t.Fragment,{children:"Create Account"})})]})]})]}),(0,t.jsxs)("div",{className:"mt-12",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or sign up with"})})]}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[(0,t.jsxs)("button",{type:"button",className:"w-full flex justify-center items-center px-4 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,t.jsx)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:(0,t.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[(0,t.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),(0,t.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),(0,t.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),(0,t.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})}),"Google"]}),(0,t.jsxs)("button",{type:"button",className:"w-full flex justify-center items-center px-4 py-2.5 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,t.jsx)("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:(0,t.jsx)("path",{d:"M13.397 20.997v-8.196h2.765l0.411-3.209h-3.176v-2.041c0-0.926 0.258-1.56 1.587-1.56h1.684v-2.873c-0.302-0.035-1.346-0.129-2.556-0.129-2.477 0-4.21 1.513-4.21 4.295v2.307h-2.822v3.209h2.822v8.196h3.496z"})}),"Facebook"]})]})]})]})})]})}},5243:function(e,s,r){"use strict";r.d(s,{a:function(){return useAuth}});var t=r(4523);function useAuth(){var e;let s=(0,t.useAuth)(),r=(null===(e=s.user)||void 0===e?void 0:e.role)||"customer",signIn=async(e,r)=>{try{return await s.signIn(e,r),{error:null}}catch(e){return{error:e}}},signUp=async(e,r,t)=>{try{return await s.signUp(e,r,t),{error:null}}catch(e){return{error:e}}};return{...s,role:r,signIn,signUp}}},4523:function(e,s,r){"use strict";r.r(s),r.d(s,{AuthProvider:function(){return AuthProvider},default:function(){return c},useAuth:function(){return useAuth}});var t=r(7437),a=r(2265);let i="bigdealegypt.up.railway.app/api",signIn=async(e,s)=>{try{let t=await fetch("".concat(i,"/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s}),credentials:"include"});if(!t.ok){var r;let e=await t.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Authentication failed")}return await t.json()}catch(e){throw console.error("Sign in error:",e),e}},signUp=async(e,s,r)=>{try{let a=await fetch("".concat(i,"/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s,name:r})});if(!a.ok){var t;let e=await a.json();throw Error((null===(t=e.error)||void 0===t?void 0:t.message)||"Registration failed")}return await a.json()}catch(e){throw console.error("Sign up error:",e),e}},signOut=async()=>{try{let s=await fetch("".concat(i,"/auth/signout"),{method:"POST",credentials:"include"});if(!s.ok){var e;let r=await s.json();throw Error((null===(e=r.error)||void 0===e?void 0:e.message)||"Sign out failed")}return await s.json()}catch(e){throw console.error("Sign out error:",e),e}},getSession=async e=>{try{let r=await fetch("".concat(i,"/auth/session"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!r.ok){var s;let e=await r.json();throw Error((null===(s=e.error)||void 0===s?void 0:s.message)||"Failed to retrieve session")}return await r.json()}catch(e){throw console.error("Get session error:",e),e}},refreshToken=async()=>{try{let s=await fetch("".concat(i,"/auth/refresh-token"),{method:"POST",credentials:"include"});if(!s.ok){var e;let r=await s.json();throw Error((null===(e=r.error)||void 0===e?void 0:e.message)||"Failed to refresh token")}return await s.json()}catch(e){throw console.error("Refresh token error:",e),e}},getUserProfile=async(e,s)=>{try{let t=await fetch("".concat(i,"/auth/profile/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(s)}});if(!t.ok){var r;let e=await t.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to get user profile")}return await t.json()}catch(e){throw console.error("Get user profile error:",e),e}};var l={signIn,signUp,signOut,getSession,refreshToken,getUserProfile},n=r(4033);let o=(0,a.createContext)(void 0),AuthProvider=e=>{let{children:s}=e,[r,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),g=(0,n.useRouter)();(0,a.useEffect)(()=>{if(c){let e=new Date(c.expires_at).getTime(),s=Date.now(),r=e-s;if(r<3e5){refreshSession();return}let t=setTimeout(()=>{refreshSession()},r-3e5);return()=>clearTimeout(t)}},[c]),(0,a.useEffect)(()=>{let initAuth=async()=>{u(!0),x(null);try{let e=localStorage.getItem("access_token");if(!e){u(!1);return}let s=await l.getSession(e);(null==s?void 0:s.user)&&(null==s?void 0:s.session)?(i(s.user),d(s.session),localStorage.setItem("access_token",s.session.access_token)):localStorage.removeItem("access_token")}catch(e){console.error("Auth initialization error:",e),localStorage.removeItem("access_token"),x("Authentication error. Please login again.")}finally{u(!1)}};initAuth()},[]);let signIn=async(e,s)=>{u(!0),x(null);try{let r=await l.signIn(e,s);(null==r?void 0:r.user)&&(null==r?void 0:r.session)&&(i(r.user),d(r.session),localStorage.setItem("access_token",r.session.access_token),g.push("/dashboard"))}catch(e){throw console.error("Sign in error:",e),x(e instanceof Error?e.message:"Authentication failed"),e}finally{u(!1)}},signUp=async(e,s,r)=>{u(!0),x(null);try{let t=await l.signUp(e,s,r);(null==t?void 0:t.user)&&g.push("/login?registered=true")}catch(e){throw console.error("Sign up error:",e),x(e instanceof Error?e.message:"Registration failed"),e}finally{u(!1)}},signOut=async()=>{u(!0);try{await l.signOut(),i(null),d(null),localStorage.removeItem("access_token"),g.push("/")}catch(e){console.error("Sign out error:",e),i(null),d(null),localStorage.removeItem("access_token"),g.push("/")}finally{u(!1)}},refreshSession=async()=>{if(!m)try{let e=await l.refreshToken();(null==e?void 0:e.user)&&(null==e?void 0:e.session)?(i(e.user),d(e.session),localStorage.setItem("access_token",e.session.access_token)):(i(null),d(null),localStorage.removeItem("access_token"),g.push("/login"))}catch(e){console.error("Session refresh error:",e),i(null),d(null),localStorage.removeItem("access_token"),g.push("/login")}};return(0,t.jsx)(o.Provider,{value:{user:r,session:c,loading:m,error:h,isAuthenticated:!!r,signIn,signUp,signOut,refreshSession},children:s})},useAuth=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e};var c=o}},function(e){e.O(0,[2438,8920,8611,9540,2971,2472,1744],function(){return e(e.s=7369)}),_N_E=e.O()}]);