(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9562],{7486:function(e,t,r){Promise.resolve().then(r.bind(r,2907))},2907:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return PropertyDetail}});var a=r(7437),s=r(2265),i=r(4033),l=r(8611),o=r(2749),n=r(8920),c=r(1393);function PropertyGallery(e){let{images:t,featuredImage:r,title:i}=e,[o,d]=(0,s.useState)(0),[m,p]=(0,s.useState)(!1),h=r?[r,...t.filter(e=>e!==r)]:t,u=h.length>0?h:["/api/placeholder/800/500"],handlePrevious=()=>{d(e=>0===e?u.length-1:e-1)},handleNext=()=>{d(e=>e===u.length-1?0:e+1)},toggleFullscreen=()=>{p(!m)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative h-64 md:h-96 rounded-xl overflow-hidden bg-gray-100",children:[(0,a.jsx)("img",{src:u[o],alt:"".concat(i," - Image ").concat(o+1),className:"w-full h-full object-cover"}),(0,a.jsx)("button",{onClick:handlePrevious,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 rounded-full p-2 shadow-md hover:bg-opacity-100 transition-all","aria-label":"Previous image",children:(0,a.jsx)(n.YFh,{size:20})}),(0,a.jsx)("button",{onClick:handleNext,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 rounded-full p-2 shadow-md hover:bg-opacity-100 transition-all","aria-label":"Next image",children:(0,a.jsx)(n.Tfp,{size:20})}),(0,a.jsx)("button",{onClick:toggleFullscreen,className:"absolute right-4 bottom-4 bg-white bg-opacity-80 rounded-full p-2 shadow-md hover:bg-opacity-100 transition-all","aria-label":"Toggle fullscreen",children:(0,a.jsx)(n.D7o,{size:20})}),(0,a.jsxs)("div",{className:"absolute left-4 bottom-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-xs",children:[o+1," / ",u.length]})]}),u.length>1&&(0,a.jsx)("div",{className:"mt-4 flex space-x-2 overflow-x-auto py-2",children:u.map((e,t)=>(0,a.jsx)("button",{onClick:()=>d(t),className:"flex-shrink-0 h-16 w-24 rounded-md overflow-hidden border-2 transition-all ".concat(t===o?"border-primary-500 opacity-100":"border-gray-200 opacity-70 hover:opacity-100"),children:(0,a.jsx)("img",{src:e,alt:"".concat(i," - Thumbnail ").concat(t+1),className:"h-full w-full object-cover"})},t))}),(0,a.jsx)(c.M,{children:m&&(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center",children:[(0,a.jsx)("button",{onClick:toggleFullscreen,className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-70 transition-all","aria-label":"Close fullscreen",children:(0,a.jsx)(n.q5L,{size:24})}),(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[(0,a.jsx)("img",{src:u[o],alt:"".concat(i," - Fullscreen Image ").concat(o+1),className:"max-h-full max-w-full object-contain"}),(0,a.jsx)("button",{onClick:handlePrevious,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 rounded-full p-3 hover:bg-opacity-70 transition-all text-white","aria-label":"Previous image",children:(0,a.jsx)(n.YFh,{size:24})}),(0,a.jsx)("button",{onClick:handleNext,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 rounded-full p-3 hover:bg-opacity-70 transition-all text-white","aria-label":"Next image",children:(0,a.jsx)(n.Tfp,{size:24})}),(0,a.jsxs)("div",{className:"absolute left-4 bottom-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded-full",children:[o+1," / ",u.length]})]})]})})]})}function PropertyFeatures(e){let{features:t}=e,r=t&&t.length>0?t:["Parking","Security","Air Conditioning","Balcony","Garden","Pool"];return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Features & Amenities"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-1 rounded-full bg-primary-50 text-primary-600 mr-3",children:(0,a.jsx)(n.UgA,{size:16})}),(0,a.jsx)("span",{className:"text-gray-700",children:e})]},t))})]})}function PropertyLocation(e){let{location:t}=e;return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Location"}),(0,a.jsx)("div",{className:"rounded-xl overflow-hidden",children:(0,a.jsxs)("div",{className:"bg-gray-100 h-64 flex items-center justify-center relative",children:[(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[(0,a.jsx)(n.i63,{className:"text-primary-600 mb-2",size:32}),(0,a.jsx)("p",{className:"text-gray-700 font-medium",children:t}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Map view is not available in this demo"})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-white bg-opacity-90 p-3",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.i63,{className:"text-primary-600 mr-2"}),(0,a.jsx)("span",{className:"font-medium",children:t})]})})]})})]})}var d=r(4732);async function getPropertyById(e){try{let t=await d.ZP.getPropertyById(e);return t}catch(e){return console.error("Error in getPropertyById:",e),null}}async function getSimilarProperties(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;try{let r=await d.ZP.getSimilarProperties(e.id,t);return r}catch(e){return console.error("Error in getSimilarProperties:",e),[]}}async function incrementPropertyViews(e){try{let t=getAccessToken();if(!t){console.error("No access token available");return}await d.ZP.incrementPropertyViews(e,t)}catch(e){console.error("Error in incrementPropertyViews:",e)}}r(8324);let getAccessToken=()=>localStorage.getItem("access_token");var m=r(1396),p=r.n(m),h=r(3159);function PropertyCard(e){let{property:t,onScheduleClick:r,showMatchPercentage:s=!1}=e;return(0,a.jsxs)("div",{className:"bg-white overflow-hidden rounded-xl border border-gray-200 shadow-card hover-lift group transition-all",children:[(0,a.jsxs)("div",{className:"relative h-52 overflow-hidden",children:[s&&t.matchPercentage&&(0,a.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,a.jsxs)("span",{className:"badge-success flex items-center shadow-sm",children:[(0,a.jsx)(h.qvk,{className:"mr-1 h-3 w-3"}),t.matchPercentage,"% Match"]})}),(0,a.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,a.jsx)("span",{className:"badge bg-gray-900 bg-opacity-60 text-white px-2 py-1 text-xs rounded-md shadow-sm",children:t.property_type})}),t.image_url?(0,a.jsx)("img",{src:t.image_url,alt:t.title,className:"h-full w-full object-cover transform group-hover:scale-105 transition-transform duration-300"}):(0,a.jsx)("div",{className:"h-full w-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.m17,{className:"mx-auto h-12 w-12 text-primary-400"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-primary-600 font-medium",children:"No image available"})]})})]}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-display text-lg font-semibold text-gray-900 leading-tight line-clamp-1 group-hover:text-primary-700 transition-colors",children:t.title}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-600 flex items-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500 mr-1 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"line-clamp-1",children:t.location})]})]})}),(0,a.jsx)("div",{className:"mt-4 flex items-center justify-between",children:(0,a.jsxs)("p",{className:"text-xl font-display font-semibold text-primary-700",children:[t.price.toLocaleString()," ",(0,a.jsx)("span",{className:"text-sm font-normal text-gray-600",children:"EGP"})]})}),(0,a.jsx)("div",{className:"mt-4 flex justify-between items-center",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-2 bg-gray-50 rounded-lg",children:[(0,a.jsx)(h.f0S,{className:"text-gray-500 mb-1 h-4 w-4"}),(0,a.jsxs)("span",{className:"text-xs text-gray-700 font-medium",children:[t.bedrooms," ",1===t.bedrooms?"Bed":"Beds"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-2 bg-gray-50 rounded-lg",children:[(0,a.jsx)(h.MvV,{className:"text-gray-500 mb-1 h-4 w-4"}),(0,a.jsxs)("span",{className:"text-xs text-gray-700 font-medium",children:[t.bathrooms," ",1===t.bathrooms?"Bath":"Baths"]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-2 bg-gray-50 rounded-lg",children:[(0,a.jsx)(h.BxQ,{className:"text-gray-500 mb-1 h-4 w-4"}),(0,a.jsxs)("span",{className:"text-xs text-gray-700 font-medium",children:[t.area_size," m\xb2"]})]})]})}),(0,a.jsxs)("div",{className:"mt-5 flex space-x-2",children:[(0,a.jsxs)(p(),{href:"/properties/".concat(t.id),className:"btn-outline flex-1 text-center text-sm py-2 flex items-center justify-center",children:["View Details",(0,a.jsx)(h.Dli,{className:"ml-2 h-3 w-3"})]}),r&&(0,a.jsxs)("button",{onClick:()=>r(t.id),className:"btn-primary flex-1 text-sm py-2 flex items-center justify-center",children:[(0,a.jsx)(h.IiJ,{className:"mr-2 h-3 w-3"}),"Schedule"]})]})]})]})}function SimilarProperties(e){let{currentProperty:t}=e,[r,i]=(0,s.useState)([]),[l,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let fetchSimilarProperties=async()=>{try{o(!0);let e=await getSimilarProperties(t,3);i(e)}catch(e){console.error("Error fetching similar properties:",e)}finally{o(!1)}};fetchSimilarProperties()},[t]),l)?(0,a.jsxs)("div",{className:"mt-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Properties"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"bg-gray-200 h-48 rounded-t-xl"}),(0,a.jsxs)("div",{className:"bg-white p-4 rounded-b-xl border border-gray-200",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-2 w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4 w-1/2"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]},e))})]}):0===r.length?null:(0,a.jsxs)("div",{className:"mt-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Properties"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,a.jsx)(PropertyCard,{property:{id:e.id,title:e.title,location:e.location,price:e.price,bedrooms:e.bedrooms,bathrooms:e.bathrooms,area_size:e.area_size,image_url:e.featured_image||(e.image_urls&&e.image_urls.length>0?e.image_urls[0]:void 0),property_type:e.property_type}},e.id))})]})}var u=r(4734),x=r(2595),g=r(5243),y=r(7140);function RequestViewingModal(e){let{isOpen:t,onClose:r,property:i}=e,{user:d,session:m}=(0,g.a)(),[p,h]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),[j,b]=(0,s.useState)(""),resetForm=()=>{b(""),y(!1),f(null)},handleSubmit=async()=>{if(!d){f("You must be logged in to request a viewing");return}if(!(null==m?void 0:m.access_token)){f("Authentication error. Please try logging in again.");return}try{h(!0),f(null);let e={property_id:i.id,notes:j};await o.ZP.createScheduledViewing(m.access_token,e),y(!0)}catch(e){console.error("Error scheduling viewing:",e),f("Failed to schedule viewing. Please try again.")}finally{h(!1)}};return(0,a.jsx)(c.M,{children:t&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:r}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsxs)("div",{className:"bg-primary-50 px-4 py-3 sm:px-6 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-primary-900",children:"Schedule a Property Viewing"}),(0,a.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:()=>{r(),setTimeout(resetForm,300)},children:(0,a.jsx)(n.q5L,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:x?(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:(0,a.jsx)(n.UgA,{className:"h-6 w-6 text-green-600"})}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Viewing Request Submitted"}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Your request to view ",i.title," has been submitted successfully. Our sales team will propose available time slots for your viewing soon. You will receive a notification when slots are available for selection."]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-100 flex items-start",children:[(0,a.jsx)(n.H33,{className:"text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"How scheduling works:"}),(0,a.jsxs)("ol",{className:"list-decimal pl-5 space-y-1",children:[(0,a.jsx)("li",{children:"Submit your viewing request"}),(0,a.jsx)("li",{children:"Our sales team will propose available time slots"}),(0,a.jsx)("li",{children:"You'll select your preferred slot"}),(0,a.jsx)("li",{children:"Sales team will confirm your appointment"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:["Request a viewing for ",i.title]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Submit your request to view this property, and our sales team will get back to you with available viewing slots."}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),(0,a.jsxs)("div",{className:"relative rounded-md shadow-sm",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(n.IC0,{className:"text-gray-400"})}),(0,a.jsx)("textarea",{rows:4,className:"block w-full pl-10 sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Any special requests, questions, or preferred days of the week...",value:j,onChange:e=>b(e.target.value)})]})]})})]}),v&&(0,a.jsx)("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:v})]})}),(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:x?(0,a.jsx)(u.Z,{variant:"primary",onClick:()=>{r(),setTimeout(resetForm,300)},children:"Done"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{variant:"primary",onClick:handleSubmit,loading:p,children:"Submit Request"}),(0,a.jsx)(u.Z,{variant:"light",onClick:r,className:"mr-2",children:"Cancel"})]})})]})]})})})}function SelectSlotModal(e){var t,r;let{isOpen:i,onClose:d,viewingId:m,onSuccess:p}=e,{session:h}=(0,g.a)(),[x,y]=(0,s.useState)(!1),[v,f]=(0,s.useState)(!0),[j,b]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[P,S]=(0,s.useState)(null),[k,C]=(0,s.useState)(null),[E,_]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let fetchViewingDetails=async()=>{if(i&&(null==h?void 0:h.access_token)&&m)try{var e,t;f(!0),C(null);let r=await o.ZP.getScheduledViewingById(h.access_token,m);b(r),(null===(e=r.proposed_dates)||void 0===e?void 0:e.length)===1&&N(r.proposed_dates[0]),(null===(t=r.proposed_times)||void 0===t?void 0:t.length)===1&&S(r.proposed_times[0])}catch(e){console.error("Error fetching viewing details:",e),C("Failed to load viewing options. Please try again.")}finally{f(!1)}};fetchViewingDetails()},[i,h,m]);let handleSubmit=async()=>{if(!(null==h?void 0:h.access_token)||!m||!w||!P){C("Please select both a date and time.");return}try{y(!0),C(null),await o.ZP.selectViewingSlot(h.access_token,m,{selected_date:w,selected_time:P}),_(!0),setTimeout(()=>{p&&p()},1500)}catch(e){console.error("Error selecting slot:",e),C("Failed to select viewing slot. Please try again.")}finally{y(!1)}},resetForm=()=>{N(null),S(null),C(null),_(!1)},formatDate=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),formatTime=e=>{let[t,r]=e.split(":"),a=parseInt(t);return"".concat(a%12||12,":").concat(r," ").concat(a>=12?"PM":"AM")};return i?(0,a.jsx)(c.M,{children:(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:p-0",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:d}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsxs)("div",{className:"bg-primary-50 px-4 py-3 sm:px-6 flex justify-between items-center",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-primary-900 flex items-center",children:[(0,a.jsx)(n.vlc,{className:"mr-2 h-5 w-5 text-primary-600"}),"Select Viewing Slot"]}),(0,a.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:()=>{d(),setTimeout(resetForm,300)},children:(0,a.jsx)(n.q5L,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:v?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsxs)("div",{className:"relative h-12 w-12",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 border-t-4 border-primary-500 border-solid rounded-full animate-spin"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0 border-t-4 border-primary-200 border-solid rounded-full opacity-20"})]})}):E?(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:(0,a.jsx)(n.UgA,{className:"h-6 w-6 text-green-600"})}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Slot Selected Successfully"}),(0,a.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["You have selected ",w&&formatDate(w)," at ",P&&formatTime(P),". Our team will confirm your viewing appointment soon."]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Please select your preferred date and time for viewing this property. Our sales team will confirm your appointment shortly after."}),(null==j?void 0:j.property)&&(0,a.jsxs)("div",{className:"mb-6 bg-gray-50 p-3 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:j.property.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:j.property.location})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,a.jsx)(n.vlc,{className:"mr-2 text-primary-500"}),"Select Date"]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:null==j?void 0:null===(t=j.proposed_dates)||void 0===t?void 0:t.map(e=>(0,a.jsx)("div",{className:"\n                            border rounded-lg p-3 cursor-pointer transition\n                            ".concat(w===e?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-primary-300 hover:bg-primary-50","\n                          "),onClick:()=>N(e),children:(0,a.jsxs)("div",{className:"flex items-center",children:[w===e&&(0,a.jsx)(n.UgA,{className:"text-primary-500 mr-2"}),(0,a.jsx)("span",{children:formatDate(e)})]})},e))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,a.jsx)(n.TCC,{className:"mr-2 text-primary-500"}),"Select Time"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:null==j?void 0:null===(r=j.proposed_times)||void 0===r?void 0:r.map(e=>(0,a.jsx)("div",{className:"\n                            border rounded-lg p-3 cursor-pointer transition text-center\n                            ".concat(P===e?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-primary-300 hover:bg-primary-50","\n                          "),onClick:()=>S(e),children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[P===e&&(0,a.jsx)(n.UgA,{className:"text-primary-500 mr-2"}),(0,a.jsx)("span",{children:formatTime(e)})]})},e))})]}),k&&(0,a.jsxs)("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md flex items-start",children:[(0,a.jsx)(n.bcx,{className:"text-red-500 mt-0.5 mr-2"}),(0,a.jsx)("span",{children:k})]})]})}),(0,a.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:E?(0,a.jsx)(u.Z,{variant:"primary",onClick:()=>{d(),setTimeout(resetForm,300)},children:"Done"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{variant:"primary",onClick:handleSubmit,loading:x,disabled:!w||!P||x,children:"Confirm Selection"}),(0,a.jsx)(u.Z,{variant:"light",onClick:()=>{d(),setTimeout(resetForm,300)},className:"mr-2",children:"Cancel"})]})})]})]})})}):null}function PropertyDetail(){let{id:e}=(0,i.useParams)(),t=(0,i.useRouter)(),{user:r,session:c}=(0,g.a)(),{isSaved:d,toggleSaved:m}=(0,y.c)(e),p=(null==r?void 0:r.role)==="customer",[h,v]=(0,s.useState)(null),[f,j]=(0,s.useState)(null),[b,w]=(0,s.useState)(!1),[N,P]=(0,s.useState)(null),[S,k]=(0,s.useState)(!0),[C,E]=(0,s.useState)(null),[_,T]=(0,s.useState)(!1),[F,I]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let fetchPropertyDetails=async()=>{try{k(!0);let t=await getPropertyById(e);if(!t){E("Property not found");return}P(t),await incrementPropertyViews(e)}catch(e){console.error("Error fetching property details:",e),E("Failed to load property details")}finally{k(!1)}};fetchPropertyDetails()},[e]),(0,s.useEffect)(()=>{let fetchViewingStatus=async()=>{if(r&&(null==c?void 0:c.access_token)&&(null==N?void 0:N.id))try{var e;w(!0);let t=await o.ZP.getScheduledViewings(c.access_token,{propertyId:N.id});if((null==t?void 0:null===(e=t.viewings)||void 0===e?void 0:e.length)>0){let e=t.viewings[0];v(e.status),j(e)}else v("none")}catch(e){console.error("Error fetching viewing status:",e),v("none")}finally{w(!1)}};fetchViewingStatus()},[r,c,N]);let handleToggleSave=async()=>{if(!r){t.push("/login?redirect=/properties/"+e);return}try{await m()}catch(e){console.error("Error toggling property save status:",e)}},openViewingModal=()=>{if(!r){t.push("/login?redirect=/properties/"+e);return}T(!0)};return S?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-8 w-full max-w-3xl",children:[(0,a.jsx)("div",{className:"h-60 bg-gray-200 rounded-xl"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-40 bg-gray-200 rounded"})]})}):C||!N?(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:(0,a.jsxs)(x.Z,{className:"p-8 text-center max-w-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Property Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),(0,a.jsx)(u.Z,{variant:"primary",onClick:()=>t.push("/properties"),leftIcon:(0,a.jsx)(n.Ao2,{}),children:"Browse Properties"})]})}):(0,a.jsxs)("div",{className:"pb-16",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(u.Z,{variant:"light",onClick:()=>t.back(),leftIcon:(0,a.jsx)(n.Ao2,{}),size:"sm",children:"Back to properties"})}),(0,a.jsx)(PropertyGallery,{images:N.image_urls||[],featuredImage:N.featured_image,title:N.title}),(0,a.jsxs)("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:N.title}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-gray-600",children:[(0,a.jsx)(n.i63,{className:"mr-1 flex-shrink-0"}),(0,a.jsx)("span",{children:N.location})]})]}),(0,a.jsx)("div",{className:"mt-2 md:mt-0",children:(0,a.jsx)("div",{className:"text-2xl md:text-3xl font-bold text-primary-700",children:N.price.toLocaleString()+" EGP"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm mb-1",children:"Type"}),(0,a.jsxs)("div",{className:"font-medium flex items-center",children:[(0,a.jsx)(n.m6D,{className:"mr-2 text-primary-600"}),N.property_type]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm mb-1",children:"Bedrooms"}),(0,a.jsx)("div",{className:"font-medium",children:N.bedrooms||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm mb-1",children:"Bathrooms"}),(0,a.jsx)("div",{className:"font-medium",children:N.bathrooms||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,a.jsx)("div",{className:"text-gray-500 text-sm mb-1",children:"Area"}),(0,a.jsxs)("div",{className:"font-medium flex items-center",children:[(0,a.jsx)(n.D7o,{className:"mr-2 text-primary-600"}),N.area_size," m\xb2"]})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Description"}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600",children:(0,a.jsx)("p",{children:N.description||"No description available for this property."})})]}),(0,a.jsx)(PropertyFeatures,{features:N.features||[]}),(0,a.jsx)(PropertyLocation,{location:N.location})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:(0,a.jsxs)(x.Z,{className:"p-6",children:[(0,a.jsx)("div",{className:"space-y-3",children:p&&(0,a.jsxs)(a.Fragment,{children:["none"===h&&(0,a.jsx)(u.Z,{variant:"primary",fullWidth:!0,leftIcon:(0,a.jsx)(n.vlc,{}),onClick:openViewingModal,children:"Schedule a Viewing"}),"requested"===h&&(0,a.jsx)(u.Z,{variant:"light",fullWidth:!0,leftIcon:(0,a.jsx)(n.H33,{}),disabled:!0,children:"Viewing Request Submitted"}),"options_sent"===h&&(0,a.jsx)(u.Z,{variant:"primary",fullWidth:!0,leftIcon:(0,a.jsx)(n.vlc,{}),onClick:()=>I(!0),children:"Select Viewing Slot"}),"slot_selected"===h&&(0,a.jsx)(u.Z,{variant:"light",fullWidth:!0,leftIcon:(0,a.jsx)(n.TCC,{}),disabled:!0,children:"Waiting for Confirmation"}),"confirmed"===h&&(0,a.jsxs)(u.Z,{variant:"success",fullWidth:!0,leftIcon:(0,a.jsx)(n._rq,{}),onClick:()=>t.push("/dashboard/scheduled-viewings/".concat(f.id)),children:["Viewing Confirmed: ",new Date(f.viewing_date).toLocaleDateString()]}),("cancelled"===h||"completed"===h)&&(0,a.jsx)(u.Z,{variant:"primary",fullWidth:!0,leftIcon:(0,a.jsx)(n.vlc,{}),onClick:openViewingModal,children:"Schedule Another Viewing"}),(0,a.jsx)(u.Z,{variant:d?"danger":"outline",fullWidth:!0,leftIcon:(0,a.jsx)(n.$aX,{}),onClick:handleToggleSave,children:d?"Remove from Saved":"Save Property"}),(0,a.jsx)(u.Z,{variant:"light",fullWidth:!0,leftIcon:(0,a.jsx)(n.PMT,{}),onClick:()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")},children:"Share Property"})]})}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[(0,a.jsx)(n.bfl,{className:"mr-2 text-primary-600"}),(0,a.jsx)("span",{children:"Listed by verified seller"})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(n.UgA,{className:"mr-2 text-green-500"}),(0,a.jsx)("span",{children:"Property available for viewing"})]})]})]})})})]}),(0,a.jsx)(SimilarProperties,{currentProperty:N}),(0,a.jsx)(RequestViewingModal,{isOpen:_,onClose:()=>T(!1),property:N}),f&&(0,a.jsx)(SelectSlotModal,{isOpen:F,onClose:()=>I(!1),viewingId:null==f?void 0:f.id,onSuccess:()=>{I(!1),v("slot_selected")}})]})}},2595:function(e,t,r){"use strict";r.d(t,{Z:function(){return Card}});var a=r(7437);function Card(e){let{children:t,className:r="",padding:s="small",shadow:i="small",rounded:l="medium",border:o=!1,hover:n=!1,clickable:c=!1}=e;return(0,a.jsx)("div",{className:"\n        bg-white\n        ".concat({none:"p-0",xs:"p-2",small:"p-3",medium:"p-4",large:"p-5"}[s],"\n        ").concat({none:"",small:"shadow-sm",medium:"shadow",large:"shadow-lg"}[i],"\n        ").concat({none:"rounded-none",small:"rounded-md",medium:"rounded-lg",large:"rounded-xl"}[l],"\n        ").concat(o?"border border-gray-100":"","\n        ").concat(n?"transition-all duration-200 hover:shadow-md hover:translate-y-[-1px]":"","\n        ").concat(c?"cursor-pointer active:scale-[0.99] active:shadow-inner transition-transform":"","\n        ").concat(r,"\n      "),children:t})}r(2265)},7140:function(e,t,r){"use strict";r.d(t,{c:function(){return useSavedProperties}});var a=r(2265),s=r(5243),i=r(8324),l=r(5925);function useSavedProperties(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,[t,r]=(0,a.useState)([]),[o,n]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!0),[m,p]=(0,a.useState)(null),{user:h,session:u}=(0,s.a)(),x=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h||!(null==u?void 0:u.access_token)){r([]),d(!1);return}d(!0),p(null);try{let t=await i.ZP.getSavedProperties(u.access_token,e);r(t.data)}catch(e){console.error("Error fetching saved properties:",e),p(e.message||"Failed to load saved properties"),l.toast.error("Failed to load saved properties")}finally{d(!1)}},[h,u]),g=(0,a.useCallback)(async()=>{if(!e||!h||!(null==u?void 0:u.access_token)){n(!1);return}try{let t=await i.ZP.isPropertySaved(u.access_token,e);n(t)}catch(e){console.error("Error checking if property is saved:",e),n(!1)}},[e,h,u]),y=(0,a.useCallback)(async r=>{if(!h||!(null==u?void 0:u.access_token))return l.toast.error("You must be logged in to save properties"),!1;let a=r||e;if(!a)return l.toast.error("Property ID is required"),!1;try{return await i.ZP.saveProperty(u.access_token,a),e&&e===a&&n(!0),t.length>0&&x(),l.toast.success("Property saved successfully"),!0}catch(t){if(console.error("Error saving property:",t),t.message&&t.message.includes("already saved"))return e&&e===a&&n(!0),!0;return l.toast.error(t.message||"Failed to save property"),!1}},[h,u,e,t.length,x]),v=(0,a.useCallback)(async t=>{if(!h||!(null==u?void 0:u.access_token))return l.toast.error("You must be logged in to unsave properties"),!1;let a=t||e;if(!a)return l.toast.error("Property ID is required"),!1;try{return await i.ZP.unsaveProperty(u.access_token,a),e&&e===a&&n(!1),r(e=>e.filter(e=>e.property_id!==a)),l.toast.success("Property removed from saved list"),!0}catch(t){if(console.error("Error unsaving property:",t),t.message&&t.message.includes("not saved"))return e&&e===a&&n(!1),!0;return l.toast.error(t.message||"Failed to remove property from saved list"),!1}},[h,u,e]),f=(0,a.useCallback)(async t=>{let r=t||e;if(!r)return!1;if(e===r)return o?v(r):y(r);try{let e=await i.ZP.isPropertySaved(null==u?void 0:u.access_token,r);return e?v(r):y(r)}catch(e){return console.error("Error toggling saved status:",e),!1}},[o,e,y,null==u?void 0:u.access_token,v]),j=(0,a.useCallback)(async()=>{if(!h||!(null==u?void 0:u.access_token))return l.toast.error("You must be logged in to clear saved properties"),!1;try{return await i.ZP.deleteAllSavedProperties(u.access_token),r([]),e&&n(!1),l.toast.success("All saved properties cleared"),!0}catch(e){return console.error("Error clearing saved properties:",e),l.toast.error(e.message||"Failed to clear saved properties"),!1}},[h,u,e]);return(0,a.useEffect)(()=>{e&&g()},[e,g]),{savedProperties:t,isSaved:o,loading:c,error:m,fetchSavedProperties:x,saveProperty:y,unsaveProperty:v,toggleSaved:f,clearAllSavedProperties:j}}},4732:function(e,t,r){"use strict";r.d(t,{G3:function(){return createProperty}});let a="bigdealegypt.up.railway.app/api",getAllProperties=async()=>{try{let t=await fetch("".concat(a,"/properties"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok){var e;let r=await t.json();throw Error((null===(e=r.error)||void 0===e?void 0:e.message)||"Failed to fetch properties")}let r=await t.json();return r.properties||[]}catch(e){throw console.error("Get properties error:",e),e}},getPropertyById=async e=>{try{let r=await fetch("".concat(a,"/properties/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){var t;let e=await r.json();throw Error((null===(t=e.error)||void 0===t?void 0:t.message)||"Failed to fetch property")}let s=await r.json();return s.property}catch(e){throw console.error("Get property error:",e),e}},getSimilarProperties=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;try{let s=await fetch("".concat(a,"/properties/").concat(e,"/similar?limit=").concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok){var r;let e=await s.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to fetch similar properties")}let i=await s.json();return i.properties||[]}catch(e){throw console.error("Get similar properties error:",e),e}},incrementPropertyViews=async(e,t)=>{try{let s=await fetch("".concat(a,"/properties/").concat(e,"/increment-views"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!s.ok){var r;let e=await s.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to increment property views")}}catch(e){throw console.error("Increment property views error:",e),e}},getPropertyImages=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{let s="".concat(a,"/properties/").concat(e,"/images");t&&(s+="?type=".concat(t));let i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok){var r;let e=await i.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to fetch property images")}let l=await i.json();return l.images||[]}catch(e){throw console.error("Get property images error:",e),e}},createProperty=async(e,t)=>{try{console.log("Creating property with data:",t);let s=await fetch("".concat(a,"/properties"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok){let e;let t=await s.text();try{var r;let a=JSON.parse(t);e=(null===(r=a.error)||void 0===r?void 0:r.message)||"Failed to create property"}catch(r){e=t||"Failed with status ".concat(s.status)}throw Error(e)}return await s.json()}catch(e){throw console.error("Create property error:",e),e}},uploadPropertyImages=async(e,t,r)=>{try{let i=await fetch("".concat(a,"/properties/").concat(t,"/images"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({images:r})});if(!i.ok){var s;let e=await i.json();throw Error((null===(s=e.error)||void 0===s?void 0:s.message)||"Failed to upload property images")}return await i.json()}catch(e){throw console.error("Upload property images error:",e),e}},deletePropertyImage=async(e,t)=>{try{let s=await fetch("".concat(a,"/properties/images/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}});if(!s.ok){var r;let e=await s.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to delete property image")}return await s.json()}catch(e){throw console.error("Delete property image error:",e),e}},updateProperty=async(e,t,r)=>{try{let i=await fetch("".concat(a,"/properties/").concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(r)});if(!i.ok){var s;let e=await i.json();throw Error((null===(s=e.error)||void 0===s?void 0:s.message)||"Failed to update property")}return await i.json()}catch(e){throw console.error("Update property error:",e),e}},uploadImage=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};try{let i=new FormData;i.append("image",t);let l=await fetch("".concat(a,"/upload/image"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:i,onUploadProgress:e=>{let t=Math.round(100*e.loaded/e.total);r(t)}});if(!l.ok){var s;let e=await l.json();throw Error((null===(s=e.error)||void 0===s?void 0:s.message)||"Failed to upload image")}let o=await l.json();return o.url}catch(e){throw console.error("Upload image error:",e),e}};t.ZP={getAllProperties,getPropertyById,getSimilarProperties,incrementPropertyViews,getPropertyImages,createProperty,uploadPropertyImages,deletePropertyImage,updateProperty,uploadImage}},8324:function(e,t,r){"use strict";let a="bigdealegypt.up.railway.app/api",getSavedProperties=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s="".concat(a,"/saved-properties"),i=new URLSearchParams;t.page&&i.append("page",t.page),t.limit&&i.append("limit",t.limit),i.append("_t",Date.now()),s+="?".concat(i.toString());let l=await fetch(s,{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},credentials:"include"});if(!l.ok){var r;let e=await l.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to fetch saved properties")}return await l.json()}catch(e){throw console.error("Get saved properties error:",e),e}},isPropertySaved=async(e,t)=>{try{let s=await fetch("".concat(a,"/saved-properties/check/").concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!s.ok){var r;let e=await s.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to check if property is saved")}let i=await s.json();return i.isSaved}catch(e){return console.error("Check if property is saved error:",e),!1}},saveProperty=async(e,t)=>{try{let s=await fetch("".concat(a,"/saved-properties/").concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},credentials:"include"});if(!s.ok){var r;let e=await s.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to save property")}return await s.json()}catch(e){throw console.error("Save property error:",e),e}},unsaveProperty=async(e,t)=>{try{let s=await fetch("".concat(a,"/saved-properties/").concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!s.ok){var r;let e=await s.json();throw Error((null===(r=e.error)||void 0===r?void 0:r.message)||"Failed to unsave property")}return await s.json()}catch(e){throw console.error("Unsave property error:",e),e}},deleteAllSavedProperties=async e=>{try{let r=await fetch("".concat(a,"/saved-properties"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)},credentials:"include"});if(!r.ok){var t;let e=await r.json();throw Error((null===(t=e.error)||void 0===t?void 0:t.message)||"Failed to delete all saved properties")}return await r.json()}catch(e){throw console.error("Delete all saved properties error:",e),e}};t.ZP={getSavedProperties,isPropertySaved,saveProperty,unsaveProperty,deleteAllSavedProperties}},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[2420,2438,8920,8611,5242,1907,2971,2472,1744],function(){return e(e.s=7486)}),_N_E=e.O()}]);