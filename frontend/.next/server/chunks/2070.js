"use strict";exports.id=2070,exports.ids=[2070],exports.modules={2070:(e,s,t)=>{t.d(s,{Z:()=>Navbar});var r=t(784),a=t(9885),i=t(1440),l=t.n(i),n=t(7114),d=t(5105),o=t(647);function Navbar({toggleSidebar:e,isSidebarCollapsed:s}){let[t,i]=(0,a.useState)(!1),[c,m]=(0,a.useState)(!1),[x,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)([{id:1,message:"New property match found for your request",isRead:!1,time:"2 hours ago"},{id:2,message:"Viewing scheduled for tomorrow at 2:00 PM",isRead:!1,time:"5 hours ago"},{id:3,message:"Price update for your saved property",isRead:!0,time:"Yesterday"}]),y=(0,n.usePathname)(),{user:u,role:b,signOut:f}=(0,o.a)();(0,a.useEffect)(()=>{let handleOutsideClick=e=>{let s=e.target;t&&!s.closest(".user-dropdown")&&i(!1),c&&!s.closest(".notifications-dropdown")&&m(!1)};return document.addEventListener("mousedown",handleOutsideClick),()=>document.removeEventListener("mousedown",handleOutsideClick)},[t,c]),(0,a.useEffect)(()=>{h(!1)},[y]);let j=p.filter(e=>!e.isRead).length,N=y.includes("/dashboard")||y.includes("/admin")||y.includes("/sales-ops"),getCurrentSection=()=>y.startsWith("/dashboard")?"dashboard":y.startsWith("/admin")?"admin":y.startsWith("/sales-ops")?"sales-ops":"",getRoleSpecificText=e=>"newButton"===e?y.startsWith("/admin")||y.startsWith("/sales-ops")?"New Property":"New Request":"section"===e?y.startsWith("/admin")?"Admin":y.startsWith("/sales-ops")?"Sales":"Dashboard":"dashboardLink"===e?"admin"===b?"/admin":"sales_ops"===b?"/sales-ops":"/dashboard":"";return(0,r.jsxs)("header",{className:"bg-white shadow-sm z-10 sticky top-0",children:[(0,r.jsxs)("div",{className:"max-w-screen-2xl mx-auto px-4 sm:px-6 flex h-16 justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:e,className:"text-gray-500 hover:text-primary-600 transition-colors lg:hidden","aria-label":"Toggle menu",children:r.jsx(d.cur,{size:22})}),!N&&(0,r.jsxs)(l(),{href:"/",className:"flex items-center lg:hidden",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center text-white font-bold text-base",children:"BD"}),r.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"BigDealEgypt"})]}),N&&r.jsx("div",{className:"flex items-center lg:hidden",children:r.jsx("span",{className:"text-base font-medium text-gray-900",children:getRoleSpecificText("section")})}),(0,r.jsxs)("div",{className:"relative max-w-md w-full hidden sm:block",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(d.jRj,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search...",className:"block w-full bg-gray-50 border border-gray-200 rounded-lg py-2 pl-10 pr-3 text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),!N&&(0,r.jsxs)("nav",{className:"hidden lg:flex items-center space-x-1",children:[r.jsx(l(),{href:"/",className:`px-3 py-2 rounded-lg text-sm font-medium ${"/"===y?"text-primary-700":"text-gray-600 hover:text-gray-900"} transition-colors`,children:"Home"}),r.jsx(l(),{href:"/about",className:`px-3 py-2 rounded-lg text-sm font-medium ${"/about"===y?"text-primary-700":"text-gray-600 hover:text-gray-900"} transition-colors`,children:"About"}),r.jsx(l(),{href:"/contact",className:`px-3 py-2 rounded-lg text-sm font-medium ${"/contact"===y?"text-primary-700":"text-gray-600 hover:text-gray-900"} transition-colors`,children:"Contact"})]}),r.jsx("div",{className:"flex items-center space-x-2 sm:space-x-3",children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative notifications-dropdown",children:[(0,r.jsxs)("button",{className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-gray-100 rounded-lg transition-all relative",onClick:()=>{m(!c),i(!1)},"aria-label":"Notifications",children:[r.jsx(d.vWP,{size:20}),j>0&&r.jsx("span",{className:"absolute top-0 right-0 bg-primary-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full border-2 border-white",children:j})]}),c&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,r.jsxs)("div",{className:"p-3 border-b border-gray-200 flex justify-between items-center",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),r.jsx("button",{className:"text-xs text-primary-600 hover:text-primary-700",onClick:()=>{g(e=>e.map(e=>({...e,isRead:!0})))},children:"Mark all as read"})]}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:p.length>0?p.map(e=>(0,r.jsxs)("div",{className:`p-3 border-b border-gray-100 ${e.isRead?"":"bg-primary-50"}`,children:[r.jsx("p",{className:`text-sm ${e.isRead?"text-gray-600":"text-gray-900 font-medium"}`,children:e.message}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]},e.id)):r.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No notifications"})}),r.jsx("div",{className:"p-3 text-center",children:r.jsx(l(),{href:`${getRoleSpecificText("dashboardLink")}/notifications`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",onClick:()=>m(!1),children:"View all notifications"})})]})]}),N&&(0,r.jsxs)(l(),{href:(()=>{let e=getCurrentSection();return"dashboard"===e?"/dashboard/property-requests/new":"sales-ops"===e?"/sales-ops/properties/new":"admin"===e?"/admin/properties/new":"/dashboard/property-requests/new"})(),className:"bg-primary-600 hover:bg-primary-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm flex items-center",children:[r.jsx(d.OvN,{className:"mr-1.5"}),r.jsx("span",{className:"hidden sm:inline",children:getRoleSpecificText("newButton")}),r.jsx("span",{className:"sm:hidden",children:"New"})]}),(0,r.jsxs)("div",{className:"relative user-dropdown",children:[(0,r.jsxs)("button",{onClick:()=>{i(!t),m(!1)},className:"flex items-center bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg p-1.5 pr-3 transition-colors",children:[r.jsx("div",{className:"w-7 h-7 bg-primary-100 rounded-lg flex items-center justify-center text-primary-700 font-medium text-sm mr-2",children:u?.name?.charAt(0).toUpperCase()||"U"}),r.jsx("span",{className:"text-sm font-medium text-gray-700 hidden sm:block mr-1",children:u?.name?.split(" ")[0]||"User"}),r.jsx(d.bTu,{size:16,className:"text-gray-500"})]}),t&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?.name||"User"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u?.email||"user@example.com"})]}),(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsxs)(l(),{href:getRoleSpecificText("dashboardLink"),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:[r.jsx(d.fzv,{className:"mr-3 h-4 w-4 text-gray-500"}),"Dashboard"]}),(0,r.jsxs)(l(),{href:`${getRoleSpecificText("dashboardLink")}/settings`,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:[r.jsx(d.nbt,{className:"mr-3 h-4 w-4 text-gray-500"}),"Settings"]}),(0,r.jsxs)(l(),{href:"/help",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:[r.jsx(d.bax,{className:"mr-3 h-4 w-4 text-gray-500"}),"Help & Support"]})]}),r.jsx("div",{className:"py-1 border-t border-gray-100",children:(0,r.jsxs)("button",{className:"flex w-full items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50",onClick:async()=>{i(!1);try{await f()}catch(e){console.error("Navbar logout error:",e),window.location.href="/"}},children:[r.jsx(d.xqh,{className:"mr-3 h-4 w-4 text-red-500"}),"Sign out"]})})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",onClick:()=>h(!x),"aria-label":"Menu",children:r.jsx(d.cur,{size:22})}),r.jsx("div",{className:"hidden sm:flex items-center space-x-2",children:r.jsx(l(),{href:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm",children:"Get Started"})})]})})]}),x&&!u&&(0,r.jsxs)("div",{className:"lg:hidden",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:()=>h(!1)}),(0,r.jsxs)("div",{className:"fixed inset-y-0 right-0 max-w-xs w-full bg-white shadow-xl z-50 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center text-white font-bold text-base",children:"BD"}),r.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-900",children:"BigDealEgypt"})]}),r.jsx("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-900","aria-label":"Close menu",children:r.jsx(d.q5L,{size:24})})]}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(l(),{href:"/",className:`flex items-center px-4 py-3 text-base font-medium ${"/"===y?"text-primary-700":"text-gray-900"}`,onClick:()=>h(!1),children:[r.jsx(d.m6D,{className:"mr-3 h-5 w-5"}),"Home"]}),(0,r.jsxs)(l(),{href:"/properties",className:`flex items-center px-4 py-3 text-base font-medium ${y.startsWith("/properties")?"text-primary-700":"text-gray-900"}`,onClick:()=>h(!1),children:[r.jsx(d.m6D,{className:"mr-3 h-5 w-5"}),"Properties"]}),(0,r.jsxs)(l(),{href:"/about",className:`flex items-center px-4 py-3 text-base font-medium ${"/about"===y?"text-primary-700":"text-gray-900"}`,onClick:()=>h(!1),children:[r.jsx(d.H33,{className:"mr-3 h-5 w-5"}),"About"]}),(0,r.jsxs)(l(),{href:"/contact",className:`flex items-center px-4 py-3 text-base font-medium ${"/contact"===y?"text-primary-700":"text-gray-900"}`,onClick:()=>h(!1),children:[r.jsx(d.IC0,{className:"mr-3 h-5 w-5"}),"Contact"]})]}),r.jsx("div",{className:"mt-4 px-4 py-3 border-t border-gray-200",children:r.jsx(l(),{href:"/register",className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-primary-600 hover:bg-primary-700",onClick:()=>h(!1),children:"Get Started"})})]})]})]})}}};