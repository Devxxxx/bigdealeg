(()=>{var e={};e.id=2933,e.ids=[2933],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4548:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=r(7096),t=r(6132),i=r(7284),n=r.n(i),l=r(2564),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(s,d);let o=["",{children:["sales-ops",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3842)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\sales-ops\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2776)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\sales-ops\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9851)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\sales-ops\\settings\\page.tsx"],m="/sales-ops/settings/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/sales-ops/settings/page",pathname:"/sales-ops/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7258:(e,s,r)=>{Promise.resolve().then(r.bind(r,6072))},6072:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>SalesOpsSettings});var a=r(784),t=r(9885),i=r(3500),n=r(647),l=r(8506);function ProfileTab({profile:e,loading:s,saving:r,onSave:n}){let[l,d]=(0,t.useState)({name:e.name||"",phone:e.phone||""}),handleChange=e=>{let{name:s,value:r}=e.target;d({...l,[s]:r})};return s?a.jsx("div",{className:"flex justify-center items-center p-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Profile Information"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Update your personal information"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(l)},className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:e.profile_image?a.jsx("img",{className:"h-16 w-16 rounded-full",src:e.profile_image,alt:"Profile"}):a.jsx("div",{className:"h-16 w-16 rounded-full bg-primary-100 flex items-center justify-center",children:a.jsx(i.Xws,{className:"h-8 w-8 text-primary-600"})})}),(0,a.jsxs)("div",{className:"ml-6",children:[a.jsx("button",{type:"button",className:"bg-white py-2 px-3 border border-gray-300 rounded-md shadow-sm text-sm leading-4 font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Change"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG, PNG or GIF. 1MB max."})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(i.Xws,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",name:"name",id:"name",className:"focus:ring-primary focus:border-primary block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Your full name",value:l.name,onChange:handleChange,required:!0})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(i.SRX,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",name:"email",id:"email",className:"focus:ring-primary focus:border-primary block w-full pl-10 sm:text-sm border-gray-300 rounded-md bg-gray-100",value:e.email,disabled:!0})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Email cannot be changed. Contact administrator for assistance."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(i.I7T,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"tel",name:"phone",id:"phone",className:"focus:ring-primary focus:border-primary block w-full pl-10 sm:text-sm border-gray-300 rounded-md",placeholder:"Your phone number",value:l.phone,onChange:handleChange})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:r,children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.TvB,{className:"mr-2 -ml-1 h-4 w-4"}),"Save Changes"]})})})]})]})})}function NotificationsTab({settings:e,loading:s,saving:r,onSave:n}){let[l,d]=(0,t.useState)(e),handleChange=e=>{let{name:s,checked:r}=e.target;d({...l,[s]:r})};return s?a.jsx("div",{className:"flex justify-center items-center p-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Notification Preferences"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Manage your notification settings"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(l)},className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[a.jsx(i.Z3q,{className:"mr-2 h-4 w-4 text-primary"}),"Email Notifications"]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 mb-4",children:"Configure which email notifications you'd like to receive"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"email_new_request",name:"email_new_request",type:"checkbox",checked:l.email_new_request,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"email_new_request",className:"font-medium text-gray-700",children:"New Property Requests"}),a.jsx("p",{className:"text-gray-500",children:"Notify me when a new property request is submitted"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"email_request_updates",name:"email_request_updates",type:"checkbox",checked:l.email_request_updates,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"email_request_updates",className:"font-medium text-gray-700",children:"Request Updates"}),a.jsx("p",{className:"text-gray-500",children:"Notify me when there are updates to existing property requests"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"email_viewing_scheduled",name:"email_viewing_scheduled",type:"checkbox",checked:l.email_viewing_scheduled,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"email_viewing_scheduled",className:"font-medium text-gray-700",children:"Viewing Scheduled"}),a.jsx("p",{className:"text-gray-500",children:"Notify me when a customer schedules a property viewing"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"email_viewing_confirmed",name:"email_viewing_confirmed",type:"checkbox",checked:l.email_viewing_confirmed,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"email_viewing_confirmed",className:"font-medium text-gray-700",children:"Viewing Confirmed"}),a.jsx("p",{className:"text-gray-500",children:"Notify me when a property viewing is confirmed"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"email_viewing_cancelled",name:"email_viewing_cancelled",type:"checkbox",checked:l.email_viewing_cancelled,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"email_viewing_cancelled",className:"font-medium text-gray-700",children:"Viewing Cancelled"}),a.jsx("p",{className:"text-gray-500",children:"Notify me when a property viewing is cancelled"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"email_message_received",name:"email_message_received",type:"checkbox",checked:l.email_message_received,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"email_message_received",className:"font-medium text-gray-700",children:"Messages Received"}),a.jsx("p",{className:"text-gray-500",children:"Notify me when I receive new messages from customers"})]})]})]})]}),(0,a.jsxs)("div",{className:"pt-4",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium text-gray-900 flex items-center",children:[a.jsx(i.Z3q,{className:"mr-2 h-4 w-4 text-primary"}),"SMS Notifications"]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500 mb-4",children:"Configure which SMS notifications you'd like to receive"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"sms_viewing_reminder",name:"sms_viewing_reminder",type:"checkbox",checked:l.sms_viewing_reminder,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"sms_viewing_reminder",className:"font-medium text-gray-700",children:"Viewing Reminders"}),a.jsx("p",{className:"text-gray-500",children:"Send me SMS reminders before scheduled property viewings"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5",children:a.jsx("input",{id:"sms_viewing_changes",name:"sms_viewing_changes",type:"checkbox",checked:l.sms_viewing_changes,onChange:handleChange,className:"focus:ring-primary h-4 w-4 text-primary border-gray-300 rounded"})}),(0,a.jsxs)("div",{className:"ml-3 text-sm",children:[a.jsx("label",{htmlFor:"sms_viewing_changes",className:"font-medium text-gray-700",children:"Viewing Changes"}),a.jsx("p",{className:"text-gray-500",children:"Send me SMS alerts when there are changes to scheduled viewings"})]})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:r,children:r?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.TvB,{className:"mr-2 -ml-1 h-4 w-4"}),"Save Preferences"]})})})]})]})})}function SecurityTab({loading:e,saving:s,onSave:r}){let[n,l]=(0,t.useState)({current_password:"",new_password:"",confirm_password:""}),[d,o]=(0,t.useState)({current_password:"",new_password:"",confirm_password:""}),handleChange=e=>{let{name:s,value:r}=e.target;l({...n,[s]:r}),d[s]&&o({...d,[s]:""}),("new_password"===s||"confirm_password"===s)&&("new_password"===s&&n.confirm_password&&r!==n.confirm_password?o({...d,confirm_password:"Passwords do not match"}):"confirm_password"===s&&r&&r!==n.new_password?o({...d,confirm_password:"Passwords do not match"}):"confirm_password"===s&&r&&r===n.new_password&&o({...d,confirm_password:""}))},validateForm=()=>{let e={current_password:"",new_password:"",confirm_password:""},s=!0;return n.current_password||(e.current_password="Current password is required",s=!1),n.new_password?n.new_password.length<8&&(e.new_password="Password must be at least 8 characters",s=!1):(e.new_password="New password is required",s=!1),n.confirm_password?n.new_password!==n.confirm_password&&(e.confirm_password="Passwords do not match",s=!1):(e.confirm_password="Please confirm your new password",s=!1),o(e),s};return e?a.jsx("div",{className:"flex justify-center items-center p-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[a.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Change Password"}),a.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Update your password to maintain account security"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),validateForm()&&(r({current_password:n.current_password,new_password:n.new_password}),l({current_password:"",new_password:"",confirm_password:""}))},className:"mt-6 space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"current_password",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(i.q2z,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",name:"current_password",id:"current_password",className:`focus:ring-primary focus:border-primary block w-full pl-10 sm:text-sm border-gray-300 rounded-md ${d.current_password?"border-red-300":""}`,placeholder:"Enter your current password",value:n.current_password,onChange:handleChange,required:!0})]}),d.current_password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.current_password})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(i.kUi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",name:"new_password",id:"new_password",className:`focus:ring-primary focus:border-primary block w-full pl-10 sm:text-sm border-gray-300 rounded-md ${d.new_password?"border-red-300":""}`,placeholder:"Enter your new password",value:n.new_password,onChange:handleChange,required:!0,minLength:8})]}),d.new_password?a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.new_password}):a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Password must be at least 8 characters long"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(i.kUi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"password",name:"confirm_password",id:"confirm_password",className:`focus:ring-primary focus:border-primary block w-full pl-10 sm:text-sm border-gray-300 rounded-md ${d.confirm_password?"border-red-300":""}`,placeholder:"Confirm your new password",value:n.confirm_password,onChange:handleChange,required:!0})]}),d.confirm_password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.confirm_password})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"submit",className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",disabled:s,children:s?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.TvB,{className:"mr-2 -ml-1 h-4 w-4"}),"Update Password"]})})})]})]})})}function StatusMessage({successMessage:e,errorMessage:s}){return e||s?(0,a.jsxs)(a.Fragment,{children:[e&&a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.l_A,{className:"h-5 w-5 text-green-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-700",children:e})})]})}),s&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.aHS,{className:"h-5 w-5 text-red-400"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:s})})]})})]}):null}function TabBar({activeTab:e,setActiveTab:s}){return a.jsx("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"-mb-px flex","aria-label":"Tabs",children:[a.jsx("button",{className:`${"profile"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/3 py-4 px-1 text-center border-b-2 font-medium text-sm`,onClick:()=>s("profile"),children:"Profile"}),a.jsx("button",{className:`${"notifications"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/3 py-4 px-1 text-center border-b-2 font-medium text-sm`,onClick:()=>s("notifications"),children:"Notifications"}),a.jsx("button",{className:`${"security"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} w-1/3 py-4 px-1 text-center border-b-2 font-medium text-sm`,onClick:()=>s("security"),children:"Security"})]})})}function SalesOpsSettings(){let{session:e}=(0,n.a)(),[s,r]=(0,t.useState)(!0),[d,o]=(0,t.useState)(!1),[c,m]=(0,t.useState)("profile"),[x,p]=(0,t.useState)(null),[h,u]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),[w,y]=(0,t.useState)({email_new_request:!0,email_request_updates:!0,email_viewing_scheduled:!0,email_viewing_confirmed:!0,email_viewing_cancelled:!0,email_message_received:!0,sms_viewing_reminder:!1,sms_viewing_changes:!1});(0,t.useEffect)(()=>{let fetchUserProfile=async()=>{if(e?.access_token)try{r(!0);let{settings:s}=await l.ZP.getUserSettings(e.access_token);if(!s)throw Error("Failed to load user settings");p(s.profile),s.notifications&&y(s.notifications),r(!1)}catch(e){console.error("Error fetching user profile:",e),r(!1),f("Failed to load user profile")}};fetchUserProfile()},[e]);let handleUpdateProfile=async s=>{if(x&&e?.access_token)try{o(!0),f(""),u("");let{profile:r}=await l.ZP.updateUserProfile(e.access_token,{name:s.name,phone:s.phone});p({...x,name:r.name,phone:r.phone}),u("Profile updated successfully")}catch(e){console.error("Error updating profile:",e),f("Failed to update profile")}finally{o(!1)}},handleUpdateNotifications=async s=>{if(x&&e?.access_token)try{o(!0),f(""),u(""),await l.ZP.updateNotificationSettings(e.access_token,s),y(s),p({...x,notification_settings:s}),u("Notification preferences updated successfully")}catch(e){console.error("Error updating notification settings:",e),f("Failed to update notification preferences")}finally{o(!1)}},handleUpdatePassword=async s=>{if(e?.access_token)try{o(!0),f(""),u(""),await l.ZP.updatePassword(e.access_token,{current_password:s.current_password,new_password:s.new_password}),u("Password updated successfully")}catch(e){console.error("Error updating password:",e),f(e.message||"Failed to update password")}finally{o(!1)}};return(0,t.useEffect)(()=>{let e;return h&&(e=setTimeout(()=>{u("")},5e3)),()=>{e&&clearTimeout(e)}},[h]),(0,t.useEffect)(()=>{let e;return g&&(e=setTimeout(()=>{f("")},5e3)),()=>{e&&clearTimeout(e)}},[g]),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(i.p4t,{className:"mr-3 text-primary"}),"Account Settings"]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your account settings and preferences"})]})}),a.jsx(StatusMessage,{successMessage:h,errorMessage:g}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[a.jsx(TabBar,{activeTab:c,setActiveTab:m}),(0,a.jsxs)("div",{className:"p-6",children:["profile"===c&&x&&a.jsx(ProfileTab,{profile:x,loading:s,saving:d,onSave:handleUpdateProfile}),"notifications"===c&&a.jsx(NotificationsTab,{settings:w,loading:s,saving:d,onSave:handleUpdateNotifications}),"security"===c&&a.jsx(SecurityTab,{loading:s,saving:d,onSave:handleUpdatePassword}),s&&a.jsx("div",{className:"flex justify-center items-center p-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})]})]})]})}},3842:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>d});var a=r(5153);let t=(0,a.createProxy)(String.raw`E:\bigdealegy\bigdealegy\frontend\src\app\sales-ops\settings\page.tsx`),{__esModule:i,$$typeof:n}=t,l=t.default,d=l}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[657,4043,2076,3500,1407,2070,549,5846,2718],()=>__webpack_exec__(4548));module.exports=r})();