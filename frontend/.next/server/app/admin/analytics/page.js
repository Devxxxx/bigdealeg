(()=>{var e={};e.id=8668,e.ids=[8668],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},3720:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>o,pages:()=>m,routeModule:()=>h,tree:()=>c});var a=t(7096),r=t(6132),i=t(7284),l=t.n(i),d=t(2564),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["admin",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1996)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\admin\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9862)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9851)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],m=["E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\admin\\analytics\\page.tsx"],o="/admin/analytics/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/analytics/page",pathname:"/admin/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},141:(e,s,t)=>{Promise.resolve().then(t.bind(t,2117))},2117:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminAnalytics});var a=t(784),r=t(9885),i=t(3500);function AdminAnalytics(){let[e,s]=(0,r.useState)(!0),[t,l]=(0,r.useState)("30days"),[d,n]=(0,r.useState)({totalUsers:0,activeUsers:0,totalProperties:0,totalRequests:0,totalViewings:0,conversionRate:0,averageResponseTime:0}),[c,m]=(0,r.useState)([]),[o,x]=(0,r.useState)([]),[h,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{let fetchAnalytics=async()=>{s(!0);try{let e=await fetch(`/api/analytics?timeFrame=${t}`);if(!e.ok)throw Error("Failed to fetch");let a=await e.json();n(a.stats),m(a.propertyTypeDistribution),x(a.locationDistribution),p(a.dailyStats),s(!1)}catch(e){console.error("Error fetching analytics:",e),s(!1)}};fetchAnalytics()},[t]);let formatNumber=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6 flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(i.Op,{className:"mr-3 text-primary"}),"Analytics Dashboard"]}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Monitor performance and user engagement metrics"})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center space-x-2",children:[(0,a.jsxs)("select",{className:"block w-full md:w-auto pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm rounded-md",value:t,onChange:e=>l(e.target.value),children:[a.jsx("option",{value:"7days",children:"Last 7 Days"}),a.jsx("option",{value:"30days",children:"Last 30 Days"}),a.jsx("option",{value:"90days",children:"Last 90 Days"}),a.jsx("option",{value:"12months",children:"Last 12 Months"})]}),(0,a.jsxs)("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[a.jsx(i.lbL,{className:"mr-2 h-4 w-4"}),"Refresh"]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[a.jsx(i.ZJh,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.I$,{className:"h-6 w-6 text-gray-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Users"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(d.totalUsers)})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium text-green-600",children:e?"...":formatNumber(d.activeUsers)}),a.jsx("span",{className:"text-gray-500 ml-1",children:"active in this period"})]})})]}),(0,a.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.Eoi,{className:"h-6 w-6 text-gray-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Properties Listed"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(d.totalProperties)})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-green-600",children:["+",e?"...":Math.floor(.1*d.totalProperties)]}),a.jsx("span",{className:"text-gray-500 ml-1",children:"new in this period"})]})})]}),(0,a.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.U41,{className:"h-6 w-6 text-gray-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Property Requests"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(d.totalRequests)})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-primary",children:["~",e?"...":d.averageResponseTime,"h"]}),a.jsx("span",{className:"text-gray-500 ml-1",children:"avg. response time"})]})})]}),(0,a.jsxs)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg",children:[a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(i.iCz,{className:"h-6 w-6 text-gray-400"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Scheduled Viewings"}),a.jsx("dd",{children:a.jsx("div",{className:"text-lg font-medium text-gray-900",children:e?"...":formatNumber(d.totalViewings)})})]})})]})}),a.jsx("div",{className:"bg-gray-50 px-5 py-3",children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"font-medium text-green-600",children:[e?"...":d.conversionRate,"%"]}),a.jsx("span",{className:"text-gray-500 ml-1",children:"conversion rate"})]})})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Activity Overview"}),e?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"h-80 relative",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-6 rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx(i.NMh,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart component loaded"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"In a real implementation, this would display a line chart of daily views, requests, and viewings"}),a.jsx("div",{className:"mt-4 flex justify-center",children:(0,a.jsxs)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:[a.jsx(i.dSq,{className:"mr-2 h-4 w-4"}),"View Full Analytics"]})})]})})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Property Type Distribution"}),e?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"h-64 relative",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-6 rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx(i.yQE,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart component loaded"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"In a real implementation, this would display a pie chart of property types"})]})})})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Top Locations"}),e?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"h-64 relative",children:a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-6 rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx(i.NMh,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart component loaded"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"In a real implementation, this would display a bar chart of top locations"})]})})})]})})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),e?a.jsx("div",{className:"flex justify-center items-center h-24",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),(0,a.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"John Doe"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(i.dSq,{className:"mr-1 h-3 w-3"})," Viewed Property"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Today, 10:25 AM"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Villa in Sheikh Zayed"})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Jane Smith"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(i.iCz,{className:"mr-1 h-3 w-3"})," Scheduled Viewing"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Today, 9:40 AM"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Apartment in Maadi"})]}),(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:"Ahmed Hassan"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[a.jsx(i.diV,{className:"mr-1 h-3 w-3"})," Sent Message"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Yesterday, 5:12 PM"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Office Space in Downtown Cairo"})]})]})]})})]})})]})}},1996:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var a=t(5153);let r=(0,a.createProxy)(String.raw`E:\bigdealegy\bigdealegy\frontend\src\app\admin\analytics\page.tsx`),{__esModule:i,$$typeof:l}=r,d=r.default,n=d}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[657,4043,2076,3500,1407,2070,549,5846,6677],()=>__webpack_exec__(3720));module.exports=t})();