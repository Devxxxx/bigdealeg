(()=>{var e={};e.id=3,e.ids=[3],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2805:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>o,originalPathname:()=>x,pages:()=>m,routeModule:()=>h,tree:()=>d});var a=t(7096),r=t(6132),i=t(7284),l=t.n(i),n=t(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,881)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9862)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9851)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],m=["E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\admin\\page.tsx"],x="/admin/page",o={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4725:(e,s,t)=>{Promise.resolve().then(t.bind(t,8476))},8476:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminDashboard});var a=t(784),r=t(9885),i=t(647),l=t(3431),n=t(2522),c=t(1332),d=t(5105),m=t(1440),x=t.n(m),o=t(5189),h=t(345);function AdminDashboard(){let{user:e,session:s}=(0,i.a)(),[t,m]=(0,r.useState)(null),[j,p]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let fetchDashboardData=async()=>{try{if(p(!0),!s||!s.access_token){console.error("No access token available");return}let e=await (0,o.ZS)(s.access_token);m(e)}catch(e){console.error("Error fetching dashboard data:",e),h.toast.error("Failed to load dashboard data")}finally{p(!1)}};fetchDashboardData()},[s]);let getActivityIcon=e=>{switch(e){case"user":return a.jsx(d.WY8,{className:"text-blue-500"});case"property":return a.jsx(d.m6D,{className:"text-primary-500"});case"request":return a.jsx(d.j4u,{className:"text-purple-500"});case"viewing":return a.jsx(d.vlc,{className:"text-green-500"});default:return a.jsx(d.H33,{className:"text-gray-500"})}},getAlertIcon=e=>{switch(e){case"warning":return a.jsx(d.bcx,{className:"text-amber-500"});case"error":return a.jsx(d.bcx,{className:"text-red-500"});case"info":return a.jsx(d.H33,{className:"text-blue-500"});case"success":return a.jsx(d._rq,{className:"text-green-500"});default:return a.jsx(d.H33,{className:"text-gray-500"})}};if(j)return a.jsx("div",{className:"flex justify-center items-center h-full",children:(0,a.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[a.jsx("div",{className:"rounded-full bg-primary-100 h-12 w-12 flex items-center justify-center mb-3",children:a.jsx(d.CFv,{className:"h-6 w-6 text-primary-500"})}),a.jsx("p",{className:"text-primary-600",children:"Loading dashboard..."})]})});if(!t)return a.jsx("div",{className:"flex justify-center items-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(d.bcx,{className:"h-12 w-12 text-red-500 mx-auto mb-3"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Dashboard"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"There was a problem fetching the dashboard data."}),a.jsx(n.Z,{variant:"primary",onClick:()=>window.location.reload(),children:"Try Again"})]})});let{stats:u,activities:y,alerts:g}=t;return(0,a.jsxs)("div",{className:"pb-12",children:[(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-heading-2",children:"Admin Dashboard"}),(0,a.jsxs)("p",{className:"text-subtitle mt-1",children:["Welcome back, ",e?.name||"User","!"]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx(n.Z,{variant:"outline",leftIcon:a.jsx(d.vWP,{}),size:"sm",children:"Notifications"}),a.jsx(n.Z,{variant:"gradient",leftIcon:a.jsx(d.OvN,{}),size:"sm",children:"New Property"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:(0,a.jsxs)(l.Z,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Users"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u.totalUsers})]}),a.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:a.jsx(d.WY8,{className:"h-6 w-6 text-blue-600"})})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsxs)("span",{className:`text-sm font-medium flex items-center ${u.percentChangeUsers>=0?"text-green-600":"text-red-600"}`,children:[u.percentChangeUsers>=0?a.jsx(d.TKU,{className:"mr-1"}):a.jsx(d.Gx,{className:"mr-1"}),Math.abs(u.percentChangeUsers),"%"]}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"vs last month"})]})]})}),a.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:(0,a.jsxs)(l.Z,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Properties"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u.totalProperties})]}),a.jsx("div",{className:"bg-primary-100 p-2 rounded-full",children:a.jsx(d.m6D,{className:"h-6 w-6 text-primary-600"})})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsxs)("span",{className:`text-sm font-medium flex items-center ${u.percentChangeProperties>=0?"text-green-600":"text-red-600"}`,children:[u.percentChangeProperties>=0?a.jsx(d.TKU,{className:"mr-1"}):a.jsx(d.Gx,{className:"mr-1"}),Math.abs(u.percentChangeProperties),"%"]}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"vs last month"})]})]})}),a.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:(0,a.jsxs)(l.Z,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Active Requests"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u.activeRequests})]}),a.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:a.jsx(d.j4u,{className:"h-6 w-6 text-purple-600"})})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsxs)("span",{className:`text-sm font-medium flex items-center ${u.percentChangeRequests>=0?"text-green-600":"text-red-600"}`,children:[u.percentChangeRequests>=0?a.jsx(d.TKU,{className:"mr-1"}):a.jsx(d.Gx,{className:"mr-1"}),Math.abs(u.percentChangeRequests),"%"]}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"vs last month"})]})]})}),a.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:(0,a.jsxs)(l.Z,{className:"p-6 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Revenue"}),(0,a.jsxs)("h3",{className:"text-2xl font-bold text-gray-900",children:["$",u.totalRevenue.toLocaleString()]})]}),a.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:a.jsx(d.oQC,{className:"h-6 w-6 text-green-600"})})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,a.jsxs)("span",{className:`text-sm font-medium flex items-center ${u.percentChangeRevenue>=0?"text-green-600":"text-red-600"}`,children:[u.percentChangeRevenue>=0?a.jsx(d.TKU,{className:"mr-1"}):a.jsx(d.Gx,{className:"mr-1"}),Math.abs(u.percentChangeRevenue),"%"]}),a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"vs last month"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"lg:col-span-2",children:(0,a.jsxs)(l.Z,{className:"p-6 h-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Overview"}),(0,a.jsxs)("select",{className:"border border-gray-200 rounded-md text-sm py-1 px-2",children:[a.jsx("option",{children:"Last 30 Days"}),a.jsx("option",{children:"Last Quarter"}),a.jsx("option",{children:"This Year"}),a.jsx("option",{children:"All Time"})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg h-64 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(d.CFv,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-500",children:"Chart visualization would be here"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Shows revenue, properties, and user growth over time"})]})}),(0,a.jsxs)("div",{className:"flex justify-center space-x-8 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-primary-500 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Properties"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Users"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Revenue"})]})]})]})}),a.jsx(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:(0,a.jsxs)(l.Z,{className:"p-6 h-full",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Quick Stats"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Top Locations"}),a.jsx(x(),{href:"/admin/analytics",className:"text-xs text-primary-600 hover:text-primary-800",children:"View All"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.i63,{className:"w-4 h-4 text-primary-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"New Cairo"})]}),a.jsx("span",{className:"text-sm font-medium",children:"34%"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.i63,{className:"w-4 h-4 text-primary-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Sheikh Zayed"})]}),a.jsx("span",{className:"text-sm font-medium",children:"28%"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.i63,{className:"w-4 h-4 text-primary-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Maadi"})]}),a.jsx("span",{className:"text-sm font-medium",children:"16%"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Popular Property Types"}),a.jsx(x(),{href:"/admin/analytics",className:"text-xs text-primary-600 hover:text-primary-800",children:"Details"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.m6D,{className:"w-4 h-4 text-primary-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Apartments"})]}),a.jsx("span",{className:"text-sm font-medium",children:"45%"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.m6D,{className:"w-4 h-4 text-primary-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Villas"})]}),a.jsx("span",{className:"text-sm font-medium",children:"32%"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.m6D,{className:"w-4 h-4 text-primary-500 mr-2"}),a.jsx("span",{className:"text-sm",children:"Townhouses"})]}),a.jsx("span",{className:"text-sm font-medium",children:"18%"})]})]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-xl bg-gradient-to-r from-primary-50 to-primary-100",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[a.jsx("span",{className:"text-sm font-medium text-primary-900",children:"Conversion Rate"}),a.jsx("span",{className:"text-sm font-bold text-primary-700",children:"8.7%"})]}),a.jsx("div",{className:"w-full bg-white rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary-500 h-2.5 rounded-full",style:{width:"8.7%"}})}),a.jsx("p",{className:"text-xs text-primary-700 mt-2",children:"Percentage of property requests that result in sales"})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:(0,a.jsxs)(l.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx(x(),{href:"/admin/activities",className:"text-sm text-primary-600 hover:text-primary-800",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:y.map(e=>(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"p-2 bg-gray-50 rounded-full mr-3",children:getActivityIcon(e.type)}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.title}),a.jsx("span",{className:"text-xs text-gray-500",children:e.timestamp})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["by ",e.user]}),e.status&&a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${"active"===e.status?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"}`,children:e.status})})]})]},e.id))}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 text-center",children:a.jsx(n.Z,{variant:"light",size:"sm",className:"text-primary-600",children:"Load More"})})]})}),a.jsx(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:(0,a.jsxs)(l.Z,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"}),a.jsx(n.Z,{variant:"outline",size:"xs",leftIcon:a.jsx(d.vWP,{}),children:"Manage Alerts"})]}),a.jsx("div",{className:"space-y-4",children:g.map(e=>a.jsx("div",{className:`p-4 rounded-lg border ${"warning"===e.type?"bg-amber-50 border-amber-200":"error"===e.type?"bg-red-50 border-red-200":"info"===e.type?"bg-blue-50 border-blue-200":"bg-green-50 border-green-200"}`,children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"mr-3 mt-0.5",children:getAlertIcon(e.type)}),(0,a.jsxs)("div",{className:"flex-grow",children:[a.jsx("p",{className:`text-sm font-medium ${"warning"===e.type?"text-amber-800":"error"===e.type?"text-red-800":"info"===e.type?"text-blue-800":"text-green-800"}`,children:e.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]})},e.id))}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[a.jsx(n.Z,{variant:"light",className:"justify-center",leftIcon:a.jsx(d.WY8,{}),href:"/admin/users",children:"User Management"}),a.jsx(n.Z,{variant:"light",className:"justify-center",leftIcon:a.jsx(d.aCJ,{}),href:"/admin/properties",children:"Properties"}),a.jsx(n.Z,{variant:"light",className:"justify-center",leftIcon:a.jsx(d.nbt,{}),href:"/admin/settings",children:"Settings"}),a.jsx(n.Z,{variant:"light",className:"justify-center",leftIcon:a.jsx(d.CFv,{}),href:"/admin/analytics",children:"Analytics"})]})]})})]})]})}},881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var a=t(5153);let r=(0,a.createProxy)(String.raw`E:\bigdealegy\bigdealegy\frontend\src\app\admin\page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[657,4043,2076,1332,1407,2070,549,5846,2522,3431,6677,5189],()=>__webpack_exec__(2805));module.exports=t})();