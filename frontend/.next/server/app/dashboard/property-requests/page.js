(()=>{var e={};e.id=7865,e.ids=[7865],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9819:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c});var r=t(7096),a=t(6132),l=t(7284),n=t.n(l),i=t(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["property-requests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4617)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\dashboard\\property-requests\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,8182)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9851)),"E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["E:\\bigdealegy\\bigdealegy\\frontend\\src\\app\\dashboard\\property-requests\\page.tsx"],m="/dashboard/property-requests/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/property-requests/page",pathname:"/dashboard/property-requests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6977:(e,s,t)=>{Promise.resolve().then(t.bind(t,7061))},7061:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>PropertyRequestsPage});var r=t(784),a=t(9885),l=t(1440),n=t.n(l),i=t(7114),d=t(5105),c=t(4252),o=t(4686);let StatusBadge=({status:e})=>r.jsx("span",{className:`px-2.5 py-0.5 text-xs font-medium rounded-full ${{active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"}[e.toLowerCase()]||"bg-gray-100 text-gray-800"}`,children:e}),formatPriceRange=(e,s)=>{let formatPrice=e=>e?e.toLocaleString("en-US"):"";return e&&s?`${formatPrice(e)} - ${formatPrice(s)} EGP`:e?`${formatPrice(e)}+ EGP`:s?`Up to ${formatPrice(s)} EGP`:"Price not specified"},formatDate=e=>{if(!e)return"";try{return(0,o.Z)(new Date(e),{addSuffix:!0})}catch(s){return console.error("Date formatting error:",s),e}},PropertyRequestCard=({request:e})=>(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.title}),r.jsx(StatusBadge,{status:e.status})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(d.i63,{className:"mr-2 text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e.location})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(d.m6D,{className:"mr-2 text-gray-400 flex-shrink-0"}),r.jsx("span",{children:e.property_type})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(d.oQC,{className:"mr-2 text-gray-400 flex-shrink-0"}),r.jsx("span",{children:formatPriceRange(e.min_price,e.max_price)})]}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(d.TCC,{className:"mr-2 text-gray-400 flex-shrink-0"}),r.jsx("span",{children:formatDate(e.created_at)})]})]}),(0,r.jsxs)("div",{className:"mt-3 text-sm",children:[r.jsx("span",{className:"text-primary-600 font-medium",children:e.match_count||0})," properties matched",e.new_matches>0&&(0,r.jsxs)("span",{className:"ml-2 bg-primary-100 text-primary-700 px-2 py-0.5 rounded-full text-xs",children:[e.new_matches," new"]})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 py-3 px-4 flex justify-between bg-gray-50",children:[r.jsx(n(),{href:`/dashboard/property-requests/${e.id}`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View Details"}),r.jsx(n(),{href:`/dashboard/property-requests/${e.id}/edit`,className:"text-sm text-gray-600 hover:text-gray-900",children:"Edit Request"})]})]}),EmptyState=({searchQuery:e,onCreateNew:s})=>(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl border border-gray-200 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(d.jRj,{className:"text-gray-400 w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e?`No property requests matched your search "${e}"`:"You haven't created any property requests yet."}),(0,r.jsxs)("button",{onClick:s,className:"inline-flex items-center bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:[r.jsx(d.OvN,{className:"mr-2"}),"Create New Request"]})]}),ErrorState=({error:e,onRetry:s})=>(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl border border-gray-200 text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(d.bcx,{className:"text-red-500 w-6 h-6"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error loading requests"}),r.jsx("p",{className:"text-gray-600 mb-4",children:e}),r.jsx("button",{onClick:s,className:"inline-flex items-center bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Retry"})]});function PropertyRequestsPage(){let{requests:e,loading:s,error:t,fetchRequests:l,updateFilters:o,filters:m}=(0,c.m)({loadOnMount:!0}),[x,p]=(0,a.useState)(""),[h,u]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[f,N]=(0,a.useState)("All");(0,i.usePathname)();let v=e?.filter(e=>(!x||!!e.title.toLowerCase().includes(x.toLowerCase()))&&("All"===f||e.status===f.toLowerCase()))||[];return(0,a.useEffect)(()=>{let handleClickOutside=e=>{h&&!e.target.closest(".filters-dropdown")&&u(!1),g&&!e.target.closest(".date-dropdown")&&y(!1),j&&!e.target.closest(".status-dropdown")&&b(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)},[h,g,j]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Property Requests"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your property requirements and track matches"})]}),r.jsx("div",{className:"mt-4 sm:mt-0",children:(0,r.jsxs)(n(),{href:"/dashboard/property-requests/new",className:"inline-flex items-center bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:[r.jsx(d.OvN,{className:"mr-1.5"}),"New Request"]})})]}),r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(d.jRj,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{type:"text",placeholder:"Search requests...",className:"block w-full border border-gray-300 rounded-lg py-2 pl-10 pr-3 placeholder-gray-500 focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500",value:x,onChange:e=>p(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("div",{className:"relative filters-dropdown",children:[(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center justify-between bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 min-w-[100px]",onClick:()=>{u(!h),y(!1),b(!1)},children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.Ihx,{className:"mr-2 text-gray-500"}),"Filters"]}),r.jsx(d.bTu,{className:"ml-2 text-gray-500"})]}),h&&r.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:(0,r.jsxs)("div",{className:"p-3",children:[r.jsx("div",{className:"font-medium text-gray-700 mb-2",children:"Filter by"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Property Type"}),(0,r.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg py-1.5 px-3 text-sm",children:[r.jsx("option",{children:"Any"}),r.jsx("option",{children:"Apartment"}),r.jsx("option",{children:"Villa"}),r.jsx("option",{children:"Office"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Price Range"}),(0,r.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg py-1.5 px-3 text-sm",children:[r.jsx("option",{children:"Any"}),r.jsx("option",{children:"Under 1M"}),r.jsx("option",{children:"1M - 3M"}),r.jsx("option",{children:"3M - 5M"}),r.jsx("option",{children:"Over 5M"})]})]})]}),r.jsx("div",{className:"mt-3 flex justify-end",children:r.jsx("button",{type:"button",className:"bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium py-1.5 px-3 rounded-lg",children:"Apply"})})]})})]}),(0,r.jsxs)("div",{className:"relative date-dropdown",children:[(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center justify-between bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 min-w-[100px]",onClick:()=>{y(!g),u(!1),b(!1)},children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(d.vlc,{className:"mr-2 text-gray-500"}),"Date"]}),r.jsx(d.bTu,{className:"ml-2 text-gray-500"})]}),g&&r.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:r.jsx("div",{className:"p-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"date",className:"h-4 w-4 text-primary-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"All time"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"date",className:"h-4 w-4 text-primary-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Last 7 days"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"date",className:"h-4 w-4 text-primary-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Last 30 days"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"date",className:"h-4 w-4 text-primary-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Last 3 months"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"date",className:"h-4 w-4 text-primary-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Custom range"})]})]})})})]}),(0,r.jsxs)("div",{className:"relative status-dropdown",children:[(0,r.jsxs)("button",{type:"button",className:"inline-flex items-center justify-between bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 min-w-[100px]",onClick:()=>{b(!j),u(!1),y(!1)},children:[r.jsx("div",{className:"flex items-center",children:"Status"}),r.jsx(d.bTu,{className:"ml-2 text-gray-500"})]}),j&&r.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:r.jsx("div",{className:"p-3",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"status",className:"h-4 w-4 text-primary-600",checked:"All"===f,onChange:()=>{N("All"),o({status:void 0})}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"All"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"status",className:"h-4 w-4 text-primary-600",checked:"Active"===f,onChange:()=>{N("Active"),o({status:"active"})}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Active"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"status",className:"h-4 w-4 text-primary-600",checked:"Pending"===f,onChange:()=>{N("Pending"),o({status:"pending"})}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Pending"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"status",className:"h-4 w-4 text-primary-600",checked:"Completed"===f,onChange:()=>{N("Completed"),o({status:"completed"})}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Completed"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"status",className:"h-4 w-4 text-primary-600",checked:"Cancelled"===f,onChange:()=>{N("Cancelled"),o({status:"cancelled"})}}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Cancelled"})]})]})})})]})]})]})}),s?(0,r.jsxs)("div",{className:"flex justify-center items-center p-12",children:[r.jsx(d.dAq,{className:"animate-spin h-8 w-8 text-primary-600 mr-2"}),r.jsx("span",{className:"text-gray-600",children:"Loading property requests..."})]}):t?r.jsx(ErrorState,{error:t,onRetry:l}):0===v.length?r.jsx(EmptyState,{searchQuery:x,onCreateNew:()=>{window.location.href="/dashboard/property-requests/new"}}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>r.jsx(PropertyRequestCard,{request:e},e.id))})]})}},4617:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>d});var r=t(5153);let a=(0,r.createProxy)(String.raw`E:\bigdealegy\bigdealegy\frontend\src\app\dashboard\property-requests\page.tsx`),{__esModule:l,$$typeof:n}=a,i=a.default,d=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[657,4043,2076,4686,1407,2070,549,5846,9494,4383,4252],()=>__webpack_exec__(9819));module.exports=t})();